(function(t){function e(e){for(var o,i,s=e[0],c=e[1],l=e[2],d=0,u=[];d<s.length;d++)i=s[d],n[i]&&u.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);p&&p(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var s=a[i];0!==n[s]&&(o=!1)}o&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var o={},i={app:0},n={app:0},r=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0dc457a7":"99a2c094","chunk-5efb7bfc":"4c45c0ef","chunk-2d0e1be2":"d6bd7263","chunk-2d20fa8a":"abb82cf1","chunk-78a1fb8c":"ee021b85"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-0dc457a7":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var o="css/"+({}[t]||t)+"."+{"chunk-0dc457a7":"19954049","chunk-5efb7bfc":"31d6cfe0","chunk-2d0e1be2":"31d6cfe0","chunk-2d20fa8a":"31d6cfe0","chunk-78a1fb8c":"31d6cfe0"}[t]+".css",n=c.p+o,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===o||d===n))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],d=l.getAttribute("data-href");if(d===o||d===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||n,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete i[t],p.parentNode.removeChild(p),a(r)},p.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[t]=0})));var o=n[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise((function(e,a){o=n[t]=[e,a]}));e.push(o[2]=r);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(t),l=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");r.type=o,r.request=i,a[1](r)}n[t]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(a,o,function(e){return t[e]}.bind(null,o));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var p=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("64a9"),i=a.n(o);i.a},"06da":function(t,e,a){},"289a":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getDataXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/AlertasXUsuario",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getDataXPersonal:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/AlertasXPersonal",dataType:"json",data:{codigopersonal:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarUsuariosAlertas",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){var e=o[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(o)},i.resolve=n,t.exports=i,i.id="4678"},"4e7b":function(t,e,a){"use strict";var o=a("dfda"),i=a.n(o);i.a},"4ffd":function(t,e,a){t.exports=a.p+"img/logo.128814e0.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var o=a("2b0e"),i=a("ce5b"),n=a.n(i),r=(a("bf40"),a("2e15")),s=a.n(r);o["default"].use(n.a);var c=new n.a({icons:{iconfont:"md"},lang:{locales:{es:s.a},current:"es"},theme:{themes:{light:{primary:"#0071BC",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}}),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[this.$session.get("logged")?a("toolbar"):t._e(),a("v-content",{attrs:{transition:"slide-x-transition"}},[a("router-view")],1),a("cfooter"),a("v-snackbar",{attrs:{right:"",timeout:t.timeout,top:"",vertical:"",color:t.snackColor,"multi-line":t.multiline},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.snackText)+"\n  ")])],1)},d=[],u=a("bc3a"),p=a.n(u),m=a("d89f"),f={getBitacora:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Bitacora",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},addBitacora:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AddBitacora",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},h=f,v={sendMail:function(t){return new Promise((function(e,a){p()({method:"get",url:m["a"].apiUrl+"/email",dataType:"json",params:{email:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},sendMailData:function(t,e,a,o,i){return new Promise((function(n,r){p()({method:"post",url:m["a"].apiUrl+"/email",dataType:"json",data:{email:t,nombre:e,asunto:a,mensaje:o,adjunto:i}}).then((function(t){n(t)})).catch((function(t){n(t)}))}))},sendMailDataExterno:function(t,e,a,o,i){return new Promise((function(n,r){p()({method:"post",url:m["a"].apiUrl+"/emailexterno",dataType:"json",data:{email:t,nombre:e,asunto:a,mensaje:o,adjunto:i}}).then((function(t){n(t)})).catch((function(t){n(t)}))}))}},g=v,b=a("7b20"),x=a("289a"),_={name:"App",components:{toolbar:function(){return a.e("chunk-5efb7bfc").then(a.bind(null,"d25a"))},cfooter:function(){return a.e("chunk-0dc457a7").then(a.bind(null,"7eb1"))}},data:function(){return{snackbar:!1,timeout:3e3,snackText:"",snackColor:"info",multiline:!0}},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},showSnack:function(t){this.snackbar=t.snack,this.timeout=t.time,this.snackColor=t.color,this.snackText=t.text},agregaBitacora:function(t){var e=this.$session.get("usuarioid"),a=t.modulo,o=t.accion,i=t.detalle,n={iduser:e,modulo:a,accion:o,detalle:i};h.addBitacora(n).then((function(t){})).catch((function(t){}))},sendMail:function(t,e,a,o,i){g.sendMailData(t,e,a,o,i).then((function(t){})).catch((function(t){t.data.request.response?t.data.request.response:t.data.message}))},AdicionaNotificacion:function(t,e,a,o){var i={iduser:t,mensaje:e,codigoopcion:a,numerointerno:o};b["a"].adicionar(i).then((function(t){})).catch((function(t){}))},enviarNotificaciones:function(t){var e=t.codigopersona,a=t.mensajenotificacion,o=t.asuntocorreo,i=t.mensajecorreo,n=t.codigoopcion,r=t.numerointerno,s=this;x["a"].getDataXPersonal(e).then((function(t){if(t.request&&t.data){var e=t.data.data[0];e.issystem&&s.AdicionaNotificacion(e.codigo,a,n,r),e.isemail&&s.sendMail(e.correo,e.nombre,o,i,"")}})).catch((function(t){}))}},mounted:function(){var t=this;this.$root.$on("showSnack",(function(e){t.showSnack(e)})),this.$root.$on("agregaBitacora",(function(e){t.agregaBitacora(e)})),this.$root.$on("enviarNotificaciones",(function(e){t.enviarNotificaciones(e)})),this.$root.$on("sendMail",(function(e){t.sendMail(e)}))}},w=_,y=(a("034f"),a("2877")),k=Object(y["a"])(w,l,d,!1,null,null,null),C=k.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Myapp")},P=[],A=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fondo"},[a("br"),a("h2")])}],S={name:"ComponenteMyapp",data:function(){return{}},methods:{},mounted:function(){}},O=S,q=Object(y["a"])(O,A,T,!1,null,null,null),E=q.exports,I={components:{Myapp:E}},D=I,U=Object(y["a"])(D,j,P,!1,null,null,null),$=U.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[a("v-flex",[a("Login",{on:{success:t.validarLogin}})],1)],1)},M=[],N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-container",{attrs:{fluid:"","fill-height":""}},[o("v-layout",{attrs:{flex:"","align-center":"","justify-center":""}},[o("v-flex",{attrs:{xs12:"",sm4:""}},[o("v-toolbar",{staticClass:"pt-2 primary light-4"},[o("v-toolbar-title",{staticClass:"white--text"},[o("h4",[t._v("Iniciar Sesión")])])],1),o("v-card",{attrs:{"elevation-1":""}},[o("v-progress-linear",{attrs:{indeterminate:t.processing,"background-color":"transparent"}}),o("div",{attrs:{align:"center"}},[o("img",{staticStyle:{padding:"20px"},attrs:{src:a("4ffd"),height:"150px",width:"300px"}})]),o("v-card",{attrs:{flat:""}},[o("v-card-text",{staticClass:"pt-4"},[o("div",[o("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-text-field",{attrs:{"prepend-icon":"person",label:"Ingrese su Usuario",rules:t.emailRules,required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),o("v-text-field",{attrs:{"prepend-icon":"lock",label:"Ingrese su Contraseña",min:"8","append-icon":t.e1?"visibility":"visibility_off",type:t.e1?"password":"text",rules:t.passwordRules,required:""},on:{"click:append":function(e){t.e1=!t.e1}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),o("v-layout",{staticClass:"mt-4",attrs:{flat:"","justify-space-between":""}},[o("v-btn",{class:{"primary light-4 white--text":t.valid,disabled:!t.valid},attrs:{loading:t.processing},on:{click:t.submit}},[t._v("Ingresar")]),o("a",{staticStyle:{"font-weight":"bold"},attrs:{color:"info"},on:{click:function(e){t.recuperar_pass=!0}}},[t._v("¿Olvidaste tú contraseña?")])],1)],1)],1)])],1)],1)],1)],1)],1),o("v-dialog",{attrs:{persistent:"","max-width":"490"},model:{value:t.recuperar_pass,callback:function(e){t.recuperar_pass=e},expression:"recuperar_pass"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("Por favor digite su email")]),o("v-card-text",[t._v("\n                  Le enviaremos un correo electrónico recordando su usuario y contraseña.\n                  "),o("v-text-field",{attrs:{"prepend-icon":"email",label:"Email",rules:[t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.recuperar_pass=!1,t.email=""}}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"primary",text:"",loading:t.btn_loading},on:{click:t.sendMail}},[t._v("Enviar")])],1)],1)],1)],1)},F=[];function B(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/login",dataType:"json",data:{username:t.email,password:t.password}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}var L={data:function(){return{modulo:"SISTEMA",processing:!1,recuperar_pass:!1,email:"",btn_loading:!1,user:{email:"",password:""},valid:!1,e1:!0,passwordRules:[function(t){return!!t||"Se requiere la contraseña"}],emailRules:[function(t){return!!t||"Se requiere el Usuario"}],rules:{required:function(t){return!!t||"Campo requerido."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"E-mail inválido."}}}},methods:{submit:function(){this.$refs.form.validate()&&this.login()},clear:function(){this.$refs.form.reset()},login:function(){var t=this;this.processing=!0,B(this.user).then((function(e){var a=!0;if(e.response){var o="";o=500==e.response.status?"Error 500. Error interno de servidor.":e.response.data.message,a=!1,t.showMessage(!0,3e3,"error",o)}else if(e.request){o="";e.data&&e.data.data[0]?(t.$session.start(),t.$session.set("logged",!0),t.$session.set("usuarioid",e.data.data[0].usuarioid),t.$session.set("usuario",e.data.data[0].usuario),t.$session.set("nombre",e.data.data[0].nombreusuario),t.$session.set("sexo",e.data.data[0].sexo),t.$session.set("codigopersonal",e.data.data[0].codigopersonal),t.$session.set("perfil",e.data.data[0].codigoperfil),t.$session.set("perfilpqr",e.data.data[0].perfilpqr),t.processing=!1,t.$emit("success",!0),t.$store.commit("setAvatar",e.data.data[0].sexo),t.agregaBitacora()):(o="Error Request. Error interno de servidor.",a=!1),0==a&&t.showMessage(!0,3e3,"error",o)}else e.message&&(a=!1,t.showMessage(!0,3e3,"error",e.message));0==a&&(t.processing=!1,t.$emit("success",!1))})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.$emit("success",!1)}))},sendMail:function(){this.btn_loading=!0;var t=this;g.sendMail(this.email).then((function(e){t.btn_loading=!1,!0===e.data.success?(t.showMessage(!0,3e3,"success",e.data.message),t.recuperar_pass=!1,t.email=""):t.showMessage(!0,3e3,"error",e.data.message)})).catch((function(e){t.btn_loading=!1;var a="";a=e.data.request.response?e.data.request.response:e.data.message,t.showMessage(!0,3e3,"error",a)}))},showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},agregaBitacora:function(){var t="INGRESO",e="INGRESO AL SISTEMA",a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}}},z=L,G=Object(y["a"])(z,N,F,!1,null,"bf3eefbe",null),X=G.exports,H={data:function(){return{}},components:{Login:X},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},validarLogin:function(t){t?(this.$root.$emit("reiniciaVariables"),this.$router.push("/myapp")):this.$router.push("/")}},beforeCreate:function(){this.$session.exists()?this.$session.get("logged")&&this.$router.push("/myapp"):this.$router.push("/")}},V=H,Y=Object(y["a"])(V,R,M,!1,null,null,null),J=Y.exports,Z=a("8c4f"),Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tAreas\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),o.codigo>7?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]):t._e()]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required],readonly:1==t.edit&&t.codigo<8},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.arrPersonal,"item-value":"codigo","item-text":"nombrecompleto","return-object":!0,label:"Encargado"},model:{value:t.encargadocodigo,callback:function(e){t.encargadocodigo=e},expression:"encargadocodigo"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Area")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Area seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},K=[],W={getAreas:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Areas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getXCodigo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AreaXCodigo",dataType:"json",data:{area:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getUserXArea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/userXArea",dataType:"json",data:{area:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarArea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarArea",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelArea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delArea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},tt=W,et={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Personal",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarPersonal",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delPersonal",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},BuscarXCargo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/PersonalXCargo",dataType:"json",data:{cargo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FiltroXEstado:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/PersonalXEstado",dataType:"json",data:{estado:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FiltroXId:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/personalXId",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},PersonalCargos:function(t){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/PersonalCargos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},PersonalXAreas:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/PersonalXArea",dataType:"json",data:{area:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},PersonalXCargos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/PersonalXCargo",dataType:"json",data:{cargo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},at=et;function ot(t){return ot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}var it={data:function(){return{modulo:"AREAS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"0",nombreant:"0",encargadocodigo:0,encargadonombre:"",itemactual:"",data:[],arrPersonal:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Encargado",align:"left",sortable:!1,value:"encargadonombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant="",this.encargadocodigo=0,this.encargadonombre=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerAreas:function(){var t=this;this.loading=!0,tt.getAreas().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traePersonal:function(){var t=this;this.loading=!0,at.FiltroXEstado(1).then((function(e){e.request&&e.data?t.arrPersonal=e.data.data:t.arrPersonal=[],t.loading=!1})).catch((function(e){t.arrPersonal=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,tt.DelArea(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Area con éxito"),t.del_item="",t.traerAreas(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL AREA CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t=0;return"object"==ot(this.encargadocodigo)?(t=this.encargadocodigo.codigo,this.encargadocodigo.nombrecompleto):(t=this.encargadocodigo,this.itemactual.encargadonombre),this.nombre==this.nombreant&&t==this.encargadonombre?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a=0,o="";"object"==ot(this.encargadocodigo)?(a=this.encargadocodigo.codigo,o=this.encargadocodigo.nombrecompleto):(a=this.encargadocodigo,o=this.itemactual.encargadonombre),this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),this.itemactual.encargadocodigo!=a&&(""==e?e="Encargado: "+this.itemactual.encargadonombre.toUpperCase()+" a "+o.toUpperCase():e+=", Encargado: "+this.itemactual.encargadonombre.toUpperCase()+" a "+o.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,nombre:this.nombre,encargadocodigo:a};tt.guardarArea(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" el Area con éxito"),i.del_item="",i.edit=-1,i.traerAreas(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre,this.encargadocodigo=this.itemactual.encargadocodigo,this.encargadonombre=this.itemactual.encargadonombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerAreas(),this.traePersonal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},nt=it,rt=Object(y["a"])(nt,Q,K,!1,null,null,null),st=rt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCargos\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Cargo")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Cargo seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},lt=[],dt={getCargos:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Cargos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarCargo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCargo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelCargo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCargo",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ut=dt,pt={data:function(){return{modulo:"CARGOS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",nombreant:"",itemactual:"",data:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerCargos:function(){var t=this;this.loading=!0,ut.getCargos().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ut.DelCargo(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Cargo con éxito"),t.del_item="",t.traerCargos(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL CARGO CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.nombre==this.nombreant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre};ut.guardarCargo(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Cargo con éxito"),a.del_item="",a.edit=-1,a.traerCargos(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerCargos(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},mt=pt,ft=Object(y["a"])(mt,ct,lt,!1,null,null,null),ht=ft.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("PERSONAL")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrTiposId,"item-value":"codigo","item-text":"descripcion",label:"Tipo Identificación",rules:[t.rules.required],"return-object":!0},model:{value:t.tipoid,callback:function(e){t.tipoid=e},expression:"tipoid"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{type:"number",label:"Identificación",rules:[t.rules.required,t.rules.valor]},model:{value:t.identificacion,callback:function(e){t.identificacion=e},expression:"identificacion"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Apellidos",rules:[t.rules.required]},model:{value:t.apellido,callback:function(e){t.apellido=e},expression:"apellido"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Nombres",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrCargos,"item-value":"codigo","item-text":"nombre",label:"Cargo",rules:[t.rules.required],"return-object":!0},model:{value:t.codigocargo,callback:function(e){t.codigocargo=e},expression:"codigocargo"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrAreas,"item-value":"codigo","item-text":"nombre",label:"Area",rules:[t.rules.required],"return-object":!0},model:{value:t.codigoarea,callback:function(e){t.codigoarea=e},expression:"codigoarea"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrCiudades,"item-value":"codigo","item-text":"nombrecompleto",label:"Ciudad",rules:[t.rules.required],"return-object":!0},model:{value:t.codigociudad,callback:function(e){t.codigociudad=e},expression:"codigociudad"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Teléfono",type:"number"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-select",{attrs:{items:t.sexoSel,label:"Sexo",rules:[t.rules.required]},model:{value:t.sexo,callback:function(e){t.sexo=e},expression:"sexo"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Nacimiento","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fechanacimiento,callback:function(e){t.fechanacimiento=e},expression:"fechanacimiento"}},o))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[a("v-date-picker",{attrs:{type:"date",rules:[t.rules.required]},on:{input:function(e){t.menuDate=!1}},model:{value:t.fechanacimiento,callback:function(e){t.fechanacimiento=e},expression:"fechanacimiento"}})],1)],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Correo",rules:[t.rules.required,t.rules.email]},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-autocomplete",{attrs:{items:t.arrEstados,"item-value":"codigo","item-text":"descripcion",label:"Estado",rules:[t.rules.required],"return-object":!0},model:{value:t.codigoestado,callback:function(e){t.codigoestado=e},expression:"codigoestado"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-autocomplete",{attrs:{items:t.arrTiposContrato,"item-value":"codigo","item-text":"descripcion",label:"Tipo Contrato",rules:[t.rules.required],"return-object":!0},model:{value:t.codigotipocont,callback:function(e){t.codigotipocont=e},expression:"codigotipocont"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-text-field",{attrs:{label:"Horas Semanales",type:"number",min:"0",rules:[t.rules.required,t.rules.valor]},model:{value:t.horasemanales,callback:function(e){t.horasemanales=e},expression:"horasemanales"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-text-field",{attrs:{label:"Salario Básico",prefix:"$ ",rules:[t.rules.required]},on:{blur:function(e){return t.formatearValor()},focus:function(e){return t.quitarFormato()}},model:{value:t.salariobasico,callback:function(e){t.salariobasico=e},expression:"salariobasico"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-autocomplete",{attrs:{items:t.arrTipoSalario,"item-value":"value","item-text":"text",label:"Tipo Contrato",rules:[t.rules.required],"return-object":!1},model:{value:t.tiposalario,callback:function(e){t.tiposalario=e},expression:"tiposalario"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Empleado")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Empleado seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},gt=[],bt={getTiposIde:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposIde",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarTiposIde:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarTiposIde",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelTiposIde:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTiposIde",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},xt=bt,_t={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Ciudades",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getAllCiudades:function(){return new Promise((function(t,e){var a="".concat(m["a"].apiUrl,"/Ciudades");p.a.post(a).then((function(e){t(e)})).catch((function(t){e(t)}))}))},getDataxDepartamento:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/CiudadesxDepartamentos",dataType:"json",data:{departamento:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCiudad",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCiudad",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},wt=_t,yt={getEstados:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Estados",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getEstadosXTipo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/EstadosXTipo",dataType:"json",data:{tipo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarEstado:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarEstado",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelEstado:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delEstado",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},kt=yt,Ct={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposContrato",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarTipoContrato",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTipoContrato",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},jt=Ct;function Pt(t){return Pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}var At={data:function(){return{modulo:"PERSONAL",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",search:"",valid:!1,codigo:0,tipoid:"",identificacion:"",apellido:"",nombre:"",codigocargo:"",codigoarea:"",direccion:"",telefono:"",codigociudad:"",correo:"",codigoestado:"",codigotipocont:"",horasemanales:0,sexo:"",fechanacimiento:"",salariobasico:0,tiposalario:"",menuDate:!1,arrTiposId:[],arrCargos:[],arrAreas:[],arrCiudades:[],arrEstados:[],arrTiposContrato:[],sexoSel:["F","M"],arrTipoSalario:[{text:"INTEGRAL",value:"I"},{text:"ORDINARIO",value:"O"}],itemactual:"",data:[],headers:[{text:"Tipo Ident.",align:"left",sortable:!1,value:"nombretipoid"},{text:"Identificación",value:"identificacion",sortable:!1,align:"left"},{text:"Nombre",value:"nombrecompleto",sortable:!1,align:"left"},{text:"Sexo",value:"sexo",sortable:!1,align:"left"},{text:"Cargo",value:"nombrecargo",sortable:!1,align:"left"},{text:"Area",value:"nombrearea",sortable:!1,align:"left"},{text:"Estado",value:"nombreestado",sortable:!1,align:"left"},{text:"Tipo Contrato",value:"descripciontipocont",sortable:!1,align:"left"},{text:"Horas Semanales (Invst.)",value:"horasemanales",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."},horassemana:function(t){return t<=40||"Las Horas semanales no pueden superar las 40"},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"E-mail inválido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo=0,this.tipoid="",this.identificacion="",this.apellido="",this.nombre="",this.codigocargo="",this.codigoarea="",this.direccion="",this.telefono="",this.codigociudad="",this.correo="",this.codigoestado="",this.codigotipocont="",this.horasemanales=0,this.sexo="",this.fechanacimiento="",this.salariobasico=0,this.tiposalario=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,at.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traeEstados:function(){var t=this;this.loading=!0,kt.getEstadosXTipo(1).then((function(e){e.request&&e.data?t.arrEstados=e.data.data:t.arrEstados=[],t.loading=!1})).catch((function(e){t.arrEstados=[],t.loading=!1}))},traeTiposId:function(){var t=this;xt.getTiposIde().then((function(e){e.request&&e.data?t.arrTiposId=e.data.data:t.arrTiposId=[]})).catch((function(e){t.arrTiposId=[]}))},traeCargos:function(){var t=this;ut.getCargos().then((function(e){e.request&&e.data?t.arrCargos=e.data.data:t.arrCargos=[]})).catch((function(e){t.arrCargos=[]}))},traeAreas:function(){var t=this;tt.getAreas().then((function(e){e.request&&e.data?t.arrAreas=e.data.data:t.arrAreas=[]})).catch((function(e){t.arrAreas=[]}))},traeCiudades:function(){var t=this;wt.getData().then((function(e){e.request&&e.data?t.arrCiudades=e.data.data:t.arrCiudades=[]})).catch((function(e){t.arrCiudades=[]}))},traeTiposContrato:function(){var t=this;jt.getData().then((function(e){e.request&&e.data?t.arrTiposContrato=e.data.data:t.arrTiposContrato=[]})).catch((function(e){t.arrTiposContrato=[]}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,at.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Empleado con éxito"),t.del_item="",t.traerDataPrincipal(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL EMPLEADO CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre+" "+t.itemactual.apellido)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){var t=0,e=0,a=0,o=0,i=0,n=0;return t="object"==Pt(this.tipoid)?this.tipoid.codigo:this.tipoid,e="object"==Pt(this.codigocargo)?this.codigocargo.codigo:this.codigocargo,a="object"==Pt(this.codigoarea)?this.codigoarea.codigo:this.codigoarea,i="object"==Pt(this.codigoestado)?this.codigoestado.codigo:this.codigoestado,o="object"==Pt(this.codigoarea)?this.codigociudad.codigo:this.codigociudad,n="object"==Pt(this.codigotipocont)?this.codigotipocont.codigo:this.codigotipocont,this.itemactual.tipoid!=t||this.itemactual.identificacion!=this.identificacion||this.itemactual.apellido!=this.apellido||this.itemactual.nombre!=this.nombre||this.itemactual.codigocargo!=e||this.itemactual.codigoarea!=a||this.itemactual.direccion!=this.direccion||this.itemactual.telefono!=this.telefono||this.itemactual.codigociudad!=o||this.itemactual.correo!=this.correo||this.itemactual.codigoestado!=i||this.itemactual.codigotipocont!=n||this.itemactual.horasemanales!=this.horasemanales||this.itemactual.sexo!=this.sexo||this.itemactual.fechanacimiento!=this.fechanacimiento||this.itemactual.salariobasico!=this.limpiarMoneda(this.salariobasico)||this.itemactual.tiposalario!=this.tiposalario},saveitem:function(){var t=this;this.loading=!0;var e="",a=0,o="",i=0,n="",r=0,s="",c=0,l="",d=0,u="",p=0,m="";"object"==Pt(this.tipoid)?(a=this.tipoid.codigo,o=this.tipoid.descripcion):(a=this.tipoid,o=this.nombretipoid),"object"==Pt(this.codigocargo)?(i=this.codigocargo.codigo,n=this.codigocargo.nombre):(i=this.codigocargo,n=this.nombrecargo),"object"==Pt(this.codigoarea)?(r=this.codigoarea.codigo,s=this.codigoarea.nombre):(r=this.codigoarea,s=this.nombrearea),"object"==Pt(this.codigociudad)?(c=this.codigociudad.codigo,l=this.codigociudad.nombrecompleto):(c=this.codigociudad,l=this.nombreciudad),"object"==Pt(this.codigoestado)?(d=this.codigoestado.codigo,u=this.codigoestado.descripcion):(d=this.codigoestado,u=this.nombreestado),"object"==Pt(this.codigotipocont)?(p=this.codigotipocont.codigo,m=this.codigotipocont.descripcion):(p=this.codigotipocont,m=this.descripciontipocont);var f={codigo:this.codigo,tipoid:a,identificacion:this.identificacion,apellido:this.apellido,nombre:this.nombre,codigocargo:i,codigoarea:r,direccion:this.direccion,telefono:this.telefono,codigociudad:c,correo:this.correo,codigoestado:d,codigotipocont:p,horasemanales:this.horasemanales,sexo:this.sexo,fechanacimiento:this.fechanacimiento,salariobasico:this.limpiarMoneda(this.salariobasico),tiposalario:this.tiposalario};if(this.edit){var h=this.validaSave();if(!h)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);if(e="",this.itemactual.tipoid!=a&&(e+="Tipo Ident.: "+this.itemactual.nombretipoid.toUpperCase()+" a "+o.toUpperCase()),this.itemactual.identificacion!=this.identificacion&&(e+=""==e?"Identificación: "+this.itemactual.identificacion+" a "+this.identificacion:", Identificación: "+this.itemactual.identificacion+" a "+this.identificacion),this.itemactual.apellido!=this.apellido&&(e+=""==e?"Apellidos: "+this.itemactual.apellido+" a "+this.apellido:", Apellidos: "+this.itemactual.apellido+" a "+this.apellido),this.itemactual.nombre!=this.nombre&&(e+=""==e?"Nombres: "+this.itemactual.nombre+" a "+this.nombre:", Nombres: "+this.itemactual.nombre+" a "+this.nombre),this.itemactual.sexo!=this.sexo&&(e+=""==e?"Sexo: "+this.itemactual.sexo+" a "+this.sexo:", Sexo: "+this.itemactual.sexo+" a "+this.sexo),this.itemactual.codigocargo!=i&&(e+=""==e?"Cargo: "+this.itemactual.nombrecargo+" a "+n:", Cargo: "+this.itemactual.nombrecargo+" a "+n),this.itemactual.codigoarea!=r&&(e+=""==e?"Area: "+this.itemactual.nombrearea+" a "+s:", Area: "+this.itemactual.nombrearea+" a "+s),this.itemactual.direccion!=this.direccion&&(e+=""==e?"Dirección: "+this.itemactual.direccion+" a "+this.direccion:", Dirección: "+this.itemactual.direccion+" a "+this.direccion),this.itemactual.telefono!=this.telefono&&(e+=""==e?"Teléfono: "+this.itemactual.telefono+" a "+this.telefono:", Teléfono: "+this.itemactual.telefono+" a "+this.telefono),this.itemactual.codigociudad!=c&&(e+=""==e?"Ciudad: "+this.itemactual.nombreciudad+" a "+l:", Ciudad: "+this.itemactual.nombreciudad+" a "+l),this.itemactual.correo!=this.correo&&(e+=""==e?"Correo: "+this.itemactual.correo+" a "+this.correo:", Correo: "+this.itemactual.correo+" a "+this.correo),this.itemactual.codigoestado!=d&&(e+=""==e?"Estado: "+this.itemactual.nombreestado+" a "+u:", Estado: "+this.itemactual.nombreestado+" a "+u),this.itemactual.codigotipocont!=p&&(e+=""==e?"Tipo de Contrato: "+this.itemactual.descripciontipocont+" a "+m:", Tipo de Contrato: "+this.itemactual.descripciontipocont+" a "+m),this.itemactual.horasemanales!=this.horasemanales&&(e+=""==e?"Horas Semanales: "+this.itemactual.horasemanales+" a "+this.horasemanales:", Horas Semanales: "+this.itemactual.horasemanales+" a "+this.horasemanales),this.itemactual.fechanacimiento!=this.fechanacimiento&&(e+=""==e?"Fecha Nacimiento: "+this.itemactual.fechanacimiento+" a "+this.fechanacimiento:", Fecha Nacimiento: "+this.itemactual.fechanacimiento+" a "+this.fechanacimiento),this.itemactual.salariobasico!=this.limpiarMoneda(this.salariobasico)&&(e+=""==e?"Salario Básico: "+this.itemactual.salariobasico+" a "+this.salariobasico:", Salario Básico: "+this.itemactual.salariobasico+" a "+this.salariobasico),this.itemactual.tiposalario!=this.tiposalario){var v="I"==this.itemactual.tiposalario?"INTEGRAL":"ORDINARIO",g="I"==this.tiposalario?"INTEGRAL":"ORDINARIO";e+=""==e?"Tipo Salario: "+v+" a "+g:", Tipo Salario: "+v+" a "+g}e="CODIGO: "+this.codigo+" ("+e+")"}else e+="NOMBRE: "+this.nombre.toUpperCase()+" "+this.apellido.toUpperCase()+", Cargo: "+n+", AREA: "+s;at.guardarData(f).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Empleado con éxito"),t.del_item="",t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},formatearValor:function(){var t=this.salariobasico;t=this.limpiarMoneda(t),t=this.number_format(t,2),this.salariobasico=t},quitarFormato:function(){this.salariobasico=this.limpiarMoneda(this.salariobasico)},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.tipoid=this.itemactual.tipoid,this.identificacion=this.itemactual.identificacion,this.apellido=this.itemactual.apellido,this.nombre=this.itemactual.nombre,this.codigocargo=this.itemactual.codigocargo,this.codigoarea=this.itemactual.codigoarea,this.direccion=this.itemactual.direccion,this.telefono=this.itemactual.telefono,this.codigociudad=this.itemactual.codigociudad,this.correo=this.itemactual.correo,this.codigoestado=this.itemactual.codigoestado,this.codigotipocont=this.itemactual.codigotipocont,this.horasemanales=this.itemactual.horasemanales,this.sexo=this.itemactual.sexo,this.fechanacimiento="0000-00-00"==this.itemactual.fechanacimiento?"":this.itemactual.fechanacimiento,this.salariobasico=this.number_format(this.limpiarMoneda(this.itemactual.salariobasico),2),this.tiposalario=this.itemactual.tiposalario):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerDataPrincipal(),this.traeEstados(),this.traeTiposId(),this.traeCargos(),this.traeAreas(),this.traeCiudades(),this.traeTiposContrato(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Tt=At,St=Object(y["a"])(Tt,vt,gt,!1,null,null,null),Ot=St.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Perfiles")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o.codigo>11,expression:"item.codigo>11"}],staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o.codigo>11,expression:"item.codigo>11"}],staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.AbrirDialogoPermiso(o.codigo,o.nombre)}}},[t._v("\n\t\t\t\t\t\t\t\tperson_add\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Perfil")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Perfil seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_permiso,callback:function(e){t.dialog_permiso=e},expression:"dialog_permiso"}},[a("v-card",{attrs:{height:"100%"}},[a("v-subheader",{staticClass:"font-weight-bold"},[t._v("PERMISOS PARA '"+t._s(t.perfilnombreactual)+"' ")]),a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{staticClass:"my-2",attrs:{xs6:"",md6:"",lg6:""}},[a("v-card",{staticClass:"flexcard",attrs:{height:"100%"}},[a("v-list",[a("v-subheader",[t._v("PERMISOS ACTUALES")]),t._l(t.permisos,(function(e,o){return a("v-list-item",{key:e.codigo},[a("v-list-item-action",[a("v-checkbox",{attrs:{color:"primary"},model:{value:t.chkperactuales[o],callback:function(e){t.$set(t.chkperactuales,o,e)},expression:"chkperactuales[i]"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.nombre))])],1)],1)}))],2)],1),a("v-layout",{staticClass:"mt-3 ml-3"},[a("v-btn",{attrs:{color:"red",dark:"",small:"",fab:""},on:{click:t.quitarPermiso}},[a("v-icon",[t._v("clear")])],1)],1)],1),a("v-flex",{staticClass:"my-2",attrs:{xs6:"",md6:"",lg6:""}},[a("v-card",{staticClass:"flexcard",attrs:{height:"100%"}},[a("v-list",[a("v-subheader",[t._v("PERMISOS POR SELECCIONAR")]),t._l(t.permisosFal,(function(e,o){return a("v-list-item",{key:e.codigo},[a("v-list-item-action",[a("v-checkbox",{attrs:{color:"primary"},model:{value:t.chkperfaltantes[o],callback:function(e){t.$set(t.chkperfaltantes,o,e)},expression:"chkperfaltantes[i]"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.nombre))])],1)],1)}))],2)],1),a("v-layout",{staticClass:"mt-3 mr-3"},[a("v-btn",{attrs:{color:"primary",dark:"",small:"",fab:""},on:{click:t.agregaPermiso}},[a("v-icon",[t._v("add")])],1)],1)],1)],1),a("v-layout",{staticStyle:{"padding-top":"50px","padding-bottom":"10px","padding-right":"5px"},attrs:{"justify-end":""}},[a("v-flex",{attrs:{shrink:""}},[a("v-btn",{staticClass:"mr-3",attrs:{small:""},on:{click:t.closeDialogoPer}},[t._v("Cancelar")]),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:t.actualizaPermisos}},[t._v("Actualizar")])],1)],1)],1)],1)],1)},Et=[],It={getPerfiles:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Perfiles",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarPerfil:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarPerfil",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelPerfil:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delPerfil",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},agregaPermisos:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/actualizaPermisos",dataType:"json",data:{perfilid:t,data:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},Dt=It,Ut=a("7ea0"),$t={data:function(){return{modulo:"PERFILES",loading:!1,dialog:!1,edit:-1,dialog_del:!1,dialog_permiso:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",itemactual:"",data:[],perfilidactual:"",perfilnombreactual:"",permisos:[],permisosFal:[],chkperactuales:[],chkperfaltantes:[],headers:[{text:"Perfil",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerData:function(){var t=this;this.loading=!0,Dt.getPerfiles().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Dt.DelPerfil(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Perfil con éxito"),t.del_item="",t.traerData(),t.closeDialogoDel(),t.modulo="PERFILES",t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL PERFIL CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){return this.itemactual.nombre!=this.nombre},saveitem:function(){var t=this;this.loading=!0;var e="",a={codigo:this.codigo,nombre:this.nombre};if(this.edit){var o=this.validaSave();if(!o)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"}else e+="NOMBRE: "+this.nombre.toUpperCase();Dt.guardarPerfil(a).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Perfil con éxito"),t.del_item="",t.edit=-1,t.traerData(),t.resetForm(),t.dialog=!1,t.modulo="PERFILES",t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},AbrirDialogoPermiso:function(t,e){this.traePermisosPerfil(t),this.traePermisosPerfilFal(t),this.perfilidactual=t,this.perfilnombreactual=e,this.dialog_permiso=!0},closeDialogoPer:function(){this.perfilidactual="",this.perfilnombreactual="",this.dialog_permiso=!1},traePermisosPerfil:function(t){var e=this;Ut["a"].getPermisosActuales(t).then((function(t){if(t.request)if(t.data){e.permisos=t.data.data,e.chkperactuales=[];for(var a=0;a<e.permisos.length;a++)e.chkperactuales[a]=!1}else e.permisos=[],e.chkperactuales=[];else e.permisos=[],e.chkperactuales=[]})).catch((function(t){e.permisos=[]}))},traePermisosPerfilFal:function(t){var e=this;Ut["a"].getPermisosFal(t).then((function(t){if(t.request)if(t.data){e.permisosFal=t.data.data,e.chkperfaltantes=[];for(var a=0;a<e.permisosFal.length;a++)e.chkperfaltantes[a]=!1}else e.permisosFal=[],e.chkperfaltantes=[];else e.permisosFal=[],e.chkperfaltantes=[]})).catch((function(t){e.permisosFal=[]}))},actualizarChkPermisos:function(){this.chkperfaltantes=[],this.chkperactuales=[];for(var t=0;t<this.permisos.length;t++)this.chkperactuales[t]=!1;for(var e=0;e<this.permisosFal.length;e++)this.chkperfaltantes[e]=!1},agregaPermiso:function(){for(var t=this.chkperfaltantes.length-1;t>=0;t--)1==this.chkperfaltantes[t]&&(this.permisos.push(this.permisosFal[t]),this.permisosFal.splice(t,1));this.actualizarChkPermisos()},quitarPermiso:function(){for(var t=this.chkperactuales.length-1;t>=0;t--)1==this.chkperactuales[t]&&(this.permisosFal.push(this.permisos[t]),this.permisos.splice(t,1));this.actualizarChkPermisos()},actualizaPermisos:function(){for(var t=[],e="",a=0;a<this.permisos.length;a++)t.push({perfcod:this.perfilidactual,opccod:this.permisos[a].codigo}),""==e?e=this.permisos[a].nombre:e+=", "+this.permisos[a].nombre;var o="SE ACTUALIZARON LOS PERMISOS DEL PERFIL "+this.perfilnombreactual+"("+e+")",i=this;this.loading=!0,Dt.agregaPermisos(this.perfilidactual,t).then((function(t){if(t.response){var e=t.response.data.message;i.showMessage(!0,3e3,"error",e)}else t.statusText?(i.showMessage(!0,3e3,"success","Se actualizarón los permisos para el Perfil con éxito"),i.closeDialogoPer(),i.modulo="PERMISOS",i.agregaBitacora("CREACION/ACTUALIZACION",o)):i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerData(),this.modulo="PERFILES",this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Rt=$t,Mt=Object(y["a"])(Rt,qt,Et,!1,null,null,null),Nt=Mt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Usuarios")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_pwd=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tvpn_key\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-select",{attrs:{items:t.personal,"item-value":"codigo","item-text":"nombrecompleto",label:"Colaborador",rules:[t.rules.required],"return-object":!0},on:{change:t.traerDataPersona},model:{value:t.codigopersonal,callback:function(e){t.codigopersonal=e},expression:"codigopersonal"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Usuario",rules:[t.rules.required]},model:{value:t.usuario,callback:function(e){t.usuario=e},expression:"usuario"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.sexoSel,label:"Sexo",rules:[t.rules.required]},model:{value:t.sexo,callback:function(e){t.sexo=e},expression:"sexo"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Email",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.arrEstados,"item-value":"value","item-text":"text",label:"Estado",rules:[t.rules.required],"return-object":!0},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.perfiles,"item-value":"codigo","item-text":"nombre",label:"Perfil",rules:[t.rules.required],"return-object":!0},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Usuario")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Usuario seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_pwd,callback:function(e){t.dialog_pwd=e},expression:"dialog_pwd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Resetear Contraseña")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de resetear la Contraseña del Usuario seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_pwd=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.updatePassword}},[t._v("Modificar")])],1)],1)],1)],1)},Bt=[],Lt={getUsuarios:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Usuarios",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},DelUsuario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/DelUser",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarUsuario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarUser",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},resetPassword:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/resetPassword",dataType:"json",data:{userid:t,nomusuario:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},personalFaltante:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/personalFaltanteUser",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getUsuariosXPerfil:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/usuariosXPerfil",dataType:"json",data:{codigoperfil:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},zt=Lt;function Gt(t){return Gt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}var Xt={data:function(){return{modulo:"USUARIOS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,dialog_pwd:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",codigopersonal:"0",nombre:"",usuario:"",sexo:"",email:"",estado:"",perfil:"",itemactual:"",data:[],perfiles:[],personal:[],usuarioidactual:"",usuarionombreactual:"",personalActual:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombreusuario"},{text:"Usuario",value:"usuario",sortable:!1,align:"left"},{text:"Sexo",value:"sexo",sortable:!1,align:"left"},{text:"Email",value:"email",sortable:!1,align:"left"},{text:"Estado",value:"nomestado",sortable:!1,align:"left"},{text:"Perfil",value:"nombreperfil",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],sexoSel:["F","M"],arrEstados:[{value:"A",text:"ACTIVO"},{value:"I",text:"INACTIVO"}],rules:{required:function(t){return!!t||"Campo requerido."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"E-mail inválido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.usuario="",this.sexo="",this.email="",this.estado="",this.perfil="",this.codigopersonal=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerUsuarios:function(){var t=this;this.loading=!0,zt.getUsuarios().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerPerfiles:function(){var t=this;this.loading=!0,Dt.getPerfiles().then((function(e){e.request?e.data?t.perfiles=e.data.data:t.perfiles=[]:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,zt.DelUsuario(t.itemactual.usuarioid).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Usuario con éxito"),t.del_item="",t.traerUsuarios(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL USUARIO CON CODIGO:"+t.itemactual.usuarioid+", NOMBRE:"+t.itemactual.nombreusuario)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){var t="object"==Gt(this.perfil)?this.perfil.codigo:this.perfil,e="object"==Gt(this.codigopersonal)?this.codigopersonal.codigo:this.codigopersonal,a="object"==Gt(this.estado)?this.estado.value:this.estado;return this.itemactual.codigopersonal!=e||this.itemactual.usuario!=this.usuario||this.itemactual.sexo!=this.sexo||this.itemactual.email!=this.email||this.itemactual.estado!=a||this.itemactual.codigoperfil!=t},saveitem:function(){var t=this;this.loading=!0;var e="",a="object"==Gt(this.perfil)?this.perfil.codigo:this.perfil,o="object"==Gt(this.estado)?this.estado.value:this.estado,i="object"==Gt(this.codigopersonal)?this.codigopersonal.codigo:this.codigopersonal,n="object"==Gt(this.codigopersonal)?this.codigopersonal.nombrecompleto.toUpperCase():this.nombre,r={codigo:this.codigo,nombre:n,usuario:this.usuario,sexo:this.sexo,email:this.email,estado:o,perfil:a,codigopersonal:i};if(this.edit){var s=this.validaSave();if(!s)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.codigopersonal!=this.codigopersonal&&(e+="Colaborador: "+this.itemactual.nombrepersonal.toUpperCase()+" a "+this.codigopersonal.nombrecompleto.toUpperCase()),this.itemactual.usuario!=this.usuario&&(e+=""==e?"Usuario: "+this.itemactual.usuario+" a "+this.usuario:", Usuario: "+this.itemactual.usuario+" a "+this.usuario),this.itemactual.sexo!=this.sexo&&(e+=""==e?"Sexo: "+this.itemactual.sexo+" a "+this.sexo:", Sexo: "+this.itemactual.sexo+" a "+this.sexo),this.itemactual.email!=this.email&&(e+=""==e?"Email: "+this.itemactual.email+" a "+this.email:", Email: "+this.itemactual.email+" a "+this.email),this.itemactual.estado!=o&&(e+=""==e?"Estado: "+this.itemactual.nomestado+" a "+this.estado.text:", Estado: "+this.itemactual.nomestado+" a "+this.estado.text),this.itemactual.codigoperfil!=a&&(e+=""==e?"Perfil: "+this.itemactual.nombreperfil+" a "+this.perfil.nombre:", Perfil: "+this.itemactual.nombreperfil+" a "+this.perfil.nombre),e="NOMBRE: "+this.itemactual.nombreusuario+" ("+e+")"}else e+="COLABORADOR: "+this.codigopersonal.nombrecompleto.toUpperCase()+", USUARIO: "+this.usuario+", SEXO: "+this.sexo+", EMAIL: "+this.email+", ESTADO: "+this.estado.text+", PERFIL: "+this.perfil.nombre;zt.guardarUsuario(r).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Usuario con éxito"),t.del_item="",t.edit=-1,t.traerUsuarios(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},updatePassword:function(){var t=this;this.loading=!0,zt.resetPassword(t.itemactual.usuarioid,t.itemactual.usuario).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se modificó la Contraseña del usuario con éxito"),t.agregaBitacora("ACTUALIZACION CONTRASEÑA","SE ACTUALIZO LA CONTRASEÑA DEL USUARIO "+t.itemactual.nombreusuario+" CON EXITO"),t.traerUsuarios(),t.dialog_pwd=!1):t.showMessage(!0,3e3,"error",e.message),t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},traerPersonalFaltante:function(t){var e=this;this.loading=!0,zt.personalFaltante(t).then((function(t){t.request&&t.data?e.personal=t.data:e.personal=[],e.loading=!1})).catch((function(t){e.personal=[],e.loading=!1}))},traerDataPersona:function(){var t="object"==Gt(this.codigopersonal)?this.codigopersonal.codigo:this.codigopersonal,e=this;this.loading=!0,this.personalActual=[],at.FiltroXId(t).then((function(t){t.request&&t.data&&(e.personalActual=t.data.data,e.sexo=e.personalActual[0].sexo,e.nombre=e.personalActual[0].nombrecompleto,e.email=e.personalActual[0].correo),e.loading=!1})).catch((function(t){e.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.usuarioid,this.nombre=this.itemactual.nombreusuario,this.usuario=this.itemactual.usuario,this.sexo=this.itemactual.sexo,this.email=this.itemactual.email,this.estado=this.itemactual.estado,this.perfil=this.itemactual.codigoperfil,this.codigopersonal=this.itemactual.codigopersonal):(this.resetForm(),this.formTitle="Nuevo"),this.traerPersonalFaltante(this.codigopersonal)}},mounted:function(){this.traerUsuarios(),this.traerPerfiles(),this.modulo="USUARIOS",this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Ht=Xt,Vt=Object(y["a"])(Ht,Ft,Bt,!1,null,null,null),Yt=Vt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Bitacora")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search}})],1)],1)],1)],1)},Zt=[],Qt={data:function(){return{modulo:"BITACORA",loading:!1,search:"",data:[],headers:[{text:"Fecha",align:"left",sortable:!1,value:"fecha"},{text:"Usuario",value:"usuario",sortable:!1,align:"left"},{text:"Modulo",value:"modulo",sortable:!1,align:"left"},{text:"Accion",value:"accion",sortable:!1,align:"left"},{text:"Detalle",value:"detalle",sortable:!1,align:"left"},{text:"Ip",value:"ip",sortable:!1,align:"left"},{text:"Host",value:"host",sortable:!1}]}},filters:{},methods:{traerData:function(){var t=this;this.loading=!0,h.getBitacora().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{},mounted:function(){this.traerData(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Kt=Qt,Wt=Object(y["a"])(Kt,Jt,Zt,!1,null,null,null),te=Wt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[2===t.$session.get("perfilpqr")||3===t.$session.get("perfilpqr")?a("pqr"):a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")])],1)],1)],1)},ae=[],oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{width:"100%"}},[a("v-card",{attrs:{width:"100%"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Dashboard - Charts")])],1),a("v-flex",[a("iframe",{attrs:{id:"inlineFrameExample",title:"Gráficas",width:"1400",height:"800",src:"https://datastudio.google.com/embed/reporting/4bbdefa3-cbc1-4112-902e-d3dd562afb38/page/nXDGB"}})])],1)],1)},ie=[],ne=a("a34a"),re=a.n(ne),se={getData:function(t,e,a){return new Promise((function(o,i){p()({method:"POST",url:m["a"].apiUrl+"/getPqrs",dataType:"json",data:{filtro:t,valor:e,estado:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},getMunicipios:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getMunicipios",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getUsersAdminPqrs:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getUsersAdminPqrs",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getRecordsPanelUsuarios:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getRecordsPanelUsuarios",dataType:"json",data:{user_id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getPersonalArea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getPersonalArea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},validateResponsable:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/validateResponsable",dataType:"json",data:{documento:t,area:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updatePerfilPqrUser:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updatePerfilPqrUser",dataType:"json",data:{iduser:t,tipo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getDependencias:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getDependencias",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getTipoComunicacion:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getTipoComunicacion",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getEjeTematico:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getEjeTematico",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getInstituciones:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getInstituciones",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getMaestroRespuestas:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getMaestroRespuestas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getTipoRespuestasA:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getTipoRespuestasA",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getUsers:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getUsers",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataResponsable:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getDataResponsable",dataType:"json",data:{documento:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getInfoUser:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getInfoUser",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getAsignados:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getAsignados",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getRecordsPanelControl:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/getRecordsPanelControl",dataType:"json",data:{fechaini:t,fechafin:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getRecordsCharts:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/getRecordsCharts",dataType:"json",data:{fechaini:t,fechafin:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getInfoResponsable:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getInfoResponsable",dataType:"json",data:{idarea:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},savePqr:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/savePqr",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},uploadFile:function(t,e){var a=new FormData;return a.append("archivo",t),a.append("id",e),new Promise((function(t,e){p.a.post(m["a"].apiUrl+"/uploadFilepqr",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},savefromH:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/savefromH",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateOficio:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updateOficio",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateTipoComunicacion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateTipoComunicacion",dataType:"json",data:{id:t,dias_respuesta:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},saveAdjunto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveAdjunto",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateAdjunto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updateAdjunto",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},listPqr:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/listPqr",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updatePqr:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updatePqr",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getAgentes:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getAgentes",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getBodyRespuesta:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getBodyRespuesta",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteAsignacion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/deleteAsignacion",dataType:"json",data:{id:t,user:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},deleteEjeTematico:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteEjeTematico",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteInstitucion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteInstitucion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteRespuestaAutomatica:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteRespuestaAutomatica",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},validatePasswordPqr:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/validatePasswordPqr",dataType:"json",data:{id:t,password:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},changevbresponsable:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/changevbresponsable",dataType:"json",data:{user:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},changevbdireccion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/changevbdireccion",dataType:"json",data:{user:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},cerrarPqr:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/cerrarPqr",dataType:"json",data:{user:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getComentario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getComentario",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getComentariosRespuesta:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getComentariosRespuesta",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveRespuesta:function(t,e){for(var a=new FormData,o=0;o<e.length;o++){var i=e[o];a.append("archivos[".concat(o,"]"),i)}return a.append("obj",JSON.stringify(t)),new Promise((function(t,e){p.a.post(m["a"].apiUrl+"/saveRespuesta",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},saveRespuestaFinal:function(t){return new Promise((function(e,a){p.a.post(m["a"].apiUrl+"/saveRespuestaFinal",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getInfoDocumentoFirmado:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getInfoDocumentoFirmado",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getRespuesta:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getRespuesta",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getResponsablepqr:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/getResponsablepqr",dataType:"json",data:{id:t,id_pqr:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},saveComentario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveComentario",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveEjeTematico:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveEjeTematico",dataType:"json",data:{nombre:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveInstitucion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveInstitucion",dataType:"json",data:{nombre:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveRespuestaAutomatica:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/saveRespuestaAutomatica",dataType:"json",data:{nombre:t,cuerpo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updateEjeTematico:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateEjeTematico",dataType:"json",data:{id:t,nombre:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updateInstitucion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateInstitucion",dataType:"json",data:{id:t,nombre:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updateRespuestaAutomatica:function(t,e,a){return new Promise((function(o,i){p()({method:"POST",url:m["a"].apiUrl+"/updateRespuestaAutomatica",dataType:"json",data:{id:t,nombre:e,cuerpo:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},saveAsignacion:function(t,e,a,o){return new Promise((function(i,n){p()({method:"POST",url:m["a"].apiUrl+"/saveAsignacion",dataType:"json",data:{tipo:t,data:e,id:a,user:o}}).then((function(t){i(t)})).catch((function(t){i(t)}))}))},getResponsables:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getResponsables",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},listAdjuntos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/listAdjuntos",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteFile:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/deleteFilepqr",dataType:"json",data:{archivo:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},deleteOficio:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteOficio",dataType:"json",data:{archivo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ce=se;function le(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function de(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){le(n,o,i,r,s,"next",t)}function s(t){le(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ue={props:["fechaini","fechafin"],data:function(){return{loaded:!1,options_estado:{chart:{height:250},title:{text:"Solicitudes por estado",align:"left"},labels:[]},series_estado:[],options_municipio:{chart:{height:250},title:{text:"Solicitudes por municipio",align:"left"},labels:[],colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],plotOptions:{pie:{startAngle:0,endAngle:360,expandOnClick:!0,offsetX:0,offsetY:0,customScale:1,dataLabels:{offset:20,minAngleToShowLabel:10}}}},series_municipio:[],options_tipoc:{chart:{height:250},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],title:{text:"Solicitudes por tipo de comunicación",align:"left"},labels:[],plotOptions:{pie:{startAngle:0,endAngle:360,expandOnClick:!0,offsetX:0,offsetY:0,customScale:1,dataLabels:{offset:15,minAngleToShowLabel:15}}}},series_tipoc:[],options_medio:{chart:{height:"250px"},title:{text:"Solicitudes por medio solicitante",align:"left"},dataLabels:{enabled:!0},labels:[],yaxis:{title:{text:"Número de registros"}},xaxis:{labels:{show:!1}}},series_medio:[{name:"Medio solicitante",data:[]}],options_time:{chart:{height:250,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Gráfico línea de tiempo",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep"]}},series_time:[{name:"Registros",data:[10,41,35,51,49,62,69,91,148]}]}},mounted:function(){this.getData()},methods:{getData:function(){var t=de(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getRecordsCharts(this.fechaini,this.fechafin);case 3:e=t.sent,a=e.data,console.log(a),this.series_estado=a.data_estado,this.options_estado.labels=a.label_estado,this.series_municipio=a.data_municipio,this.options_municipio.labels=a.label_municipio,this.series_tipoc=a.data_eje,this.options_tipoc.labels=a.label_eje,this.series_medio[0].data=a.data_medio,this.options_medio.labels=a.label_medio,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:return t.prev=19,this.loaded=!0,t.finish(19);case 22:case"end":return t.stop()}}),t,this,[[0,16,19,22]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{}},pe=ue,me=Object(y["a"])(pe,oe,ie,!1,null,"b9b20182",null),fe=me.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.mydatacomputed,"items-per-page":5,loading:t.loading,search:t.filtro},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"text-center"},[e.item.dias_respuesta<=3&&0!=e.item.dias_respuesta&&4!=e.item.id_estado?a("div",[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"orange",fab:"","x-small":"",dark:""}},o),[a("v-icon",{attrs:{small:""}},[t._v("alarm")])],1)]}}],null,!0)},[a("span",[t._v("Por vencer")])]),t._v("\n              "+t._s(e.item.consecutivo)+"\n            ")],1):0===e.item.dias_respuesta&&4!=e.item.id_estado?a("div",[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"grey",fab:"","x-small":"",dark:""}},o),[a("v-icon",{attrs:{small:""}},[t._v("alarm_off")])],1)]}}],null,!0)},[a("span",[t._v("Vencido")])]),t._v("\n              "+t._s(e.item.consecutivo)+"\n            ")],1):a("div",[t._v("\n              "+t._s(e.item.consecutivo)+"\n            ")])]),a("td",{staticClass:"text-left"},[t._v(t._s(e.item.fecha_creacion))]),a("td",{staticClass:"text-center",class:[{abierta:0===e.item.id_estado},{asignado:1===e.item.id_estado},{endesarrollo:2===e.item.id_estado},{cerrada:4===e.item.id_estado}]},[a("div",[t._v(t._s(e.item.estado))])]),a("td",{staticClass:"text-center"},[t._v(t._s(e.item.dias_respuesta))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.item.descripcion))]),a("td",{staticClass:"text-center"},[1===e.item.confidencialidad?a("v-btn",{attrs:{color:"primary",icon:"",dark:"",loading:t.loading_edit},on:{click:function(a){return t.openverifyPassword(e.item,"edit")}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1):a("v-btn",{attrs:{color:"primary",icon:"",dark:"",loading:t.loading_edit},on:{click:function(a){return t.editRecord(e.item.id)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),1===e.item.confidencialidad?a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(a){return t.openverifyPassword(e.item,"detail")}}},[a("v-icon",{attrs:{small:""}},[t._v("question_answer")])],1):a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(a){return t.verPqr(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("question_answer")])],1),1===e.item.confidencialidad?a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(a){return t.verPassword(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("vpn_key")])],1):t._e()],1)])]}},{key:"top",fn:function(){return[a("v-layout",{attrs:{"align-center":"","pa-2":""}},[a("v-btn",{staticClass:"ml-2",attrs:{small:"",color:"primary",dark:""},domProps:{innerHTML:t._s("Nueva PQRS")},on:{click:function(e){return t.openDialog()}}}),a("v-col",{attrs:{align:"center",justify:"center"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"purple",fab:"","x-small":"",dark:""},on:{click:function(e){t.filter_estado=0,t.getInfo()}}},o),[a("v-icon",[t._v("person_add_alt_1")])],1)]}}])},[a("span",[t._v("Abiertas")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"green",fab:"","x-small":"",dark:""},on:{click:function(e){t.filter_estado=1,t.getInfo()}}},o),[a("v-icon",[t._v("how_to_reg")])],1)]}}])},[a("span",[t._v("Asignadas")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"amber",fab:"","x-small":"",dark:""},on:{click:function(e){t.filter_estado=2,t.getInfo()}}},o),[a("v-icon",[t._v("work")])],1)]}}])},[a("span",[t._v("En desarrollo")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"red",fab:"","x-small":"",dark:""},on:{click:function(e){t.filter_estado=4,t.getInfo()}}},o),[a("v-icon",[t._v("cancel")])],1)]}}])},[a("span",[t._v("Cerradas")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"black",fab:"","x-small":"",dark:""},on:{click:function(e){t.filter_estado="",t.getInfo()}}},o),[a("v-icon",[t._v("remove_circle")])],1)]}}])},[a("span",[t._v("Sin filtros")])])],1),a("v-col",{attrs:{cols:"4"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Filtrar",outlined:"",dense:"","hide-details":"","prepend-icon":"filter_alt"},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}})],1),t.showbtn?a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1)],1):t._e()],1)],1)],1)]},proxy:!0}])}),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-tabs",{attrs:{"background-color":"primary",centered:"",dark:"","icons-and-text":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n              Remitente\n              "),a("v-icon",[t._v("person")])],1),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n              Información\n              "),a("v-icon",[t._v("info")])],1),a("v-tab",{attrs:{href:"#tab-3"}},[t._v("\n              Soportes\n              "),a("v-icon",[t._v("attach_file")])],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-8",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Nombre","prepend-icon":"person_pin"},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Cédula","prepend-icon":"assignment_ind"},model:{value:t.txtcedula,callback:function(e){t.txtcedula=e},expression:"txtcedula"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Dirección","prepend-icon":"location_on"},model:{value:t.txtdireccion,callback:function(e){t.txtdireccion=e},expression:"txtdireccion"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Teléfono","prepend-icon":"phone"},model:{value:t.txttelefono,callback:function(e){t.txttelefono=e},expression:"txttelefono"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Email","prepend-icon":"email"},model:{value:t.txtemail,callback:function(e){t.txtemail=e},expression:"txtemail"}})],1)],1)],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{flat:""}},[a("v-container",[a("v-row",[t.editedIndex>0?a("v-col",{attrs:{align:"center",justify:"center"}},[a("barcode",{attrs:{value:t.valBarcode,width:"1",height:"50"}})],1):t._e()],1),a("v-row",[a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha radicado","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_radicado,callback:function(e){t.date_radicado=e},expression:"date_radicado"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_radicado,callback:function(e){t.f_radicado=e},expression:"f_radicado"}},[a("v-date-picker",{on:{input:function(e){t.f_radicado=!1}},model:{value:t.date_radicado,callback:function(e){t.date_radicado=e},expression:"date_radicado"}})],1)],1)],1),a("v-row",[a("v-col",{staticClass:"ml-2"},[a("v-autocomplete",{attrs:{items:t.municipios,label:"Municipio","item-value":"idmunicipio","item-text":"municipio"},model:{value:t.txtmunicipio,callback:function(e){t.txtmunicipio=e},expression:"txtmunicipio"}})],1),a("v-col",[a("v-autocomplete",{attrs:{items:t.comunicacion,label:"Tipo de comunicación","item-value":"id","item-text":"descripcion"},on:{change:function(e){return t.setRespuesta()}},model:{value:t.txttipocomunica,callback:function(e){t.txttipocomunica=e},expression:"txttipocomunica"}})],1),a("v-col",{staticClass:"mr-2"},[a("v-autocomplete",{attrs:{items:t.medios,label:"Medio solicitante"},model:{value:t.txtmediosolicita,callback:function(e){t.txtmediosolicita=e},expression:"txtmediosolicita"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-text-field",{attrs:{outlined:"",label:"Asunto"},model:{value:t.txtasunto,callback:function(e){t.txtasunto=e},expression:"txtasunto"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-file-input",{attrs:{"small-chips":"",label:"Oficio",disabled:""!=this.nombre_oficio.trim()},model:{value:t.txtOficio,callback:function(e){t.txtOficio=e},expression:"txtOficio"}})],1)],1),""!=this.nombre_oficio.trim()?a("v-row",[a("v-col",{staticClass:"mx-4"},[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary",close:"",cols:"auto"},on:{click:function(e){return t.downloadAdjunto(t.ruta_oficio)},"click:close":function(e){return t.deleteOficio(t.nombre_oficio)}}},[t._v("\n                        "+t._s(this.nombre_oficio)+"\n                      ")])],1)],1):t._e(),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha asignación oficio","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_oficio,callback:function(e){t.date_oficio=e},expression:"date_oficio"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_oficio,callback:function(e){t.f_oficio=e},expression:"f_oficio"}},[a("v-date-picker",{on:{input:function(e){t.f_oficio=!1}},model:{value:t.date_oficio,callback:function(e){t.date_oficio=e},expression:"date_oficio"}})],1)],1),a("v-col",{staticClass:"pa-0 mx-4"},[a("v-text-field",{attrs:{label:"Número de días para respuesta"},model:{value:t.txtdias,callback:function(e){t.txtdias=e},expression:"txtdias"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-text-field",{attrs:{label:"Número de folios"},model:{value:t.txtnumfolios,callback:function(e){t.txtnumfolios=e},expression:"txtnumfolios"}})],1),a("v-col",{staticClass:"pa-0 mx-4"})],1),a("v-divider",{staticClass:"mt-4"}),2!=t.$session.get("perfilpqr")?a("v-flex",[a("v-row",{staticClass:"mt-4",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"pa-0 mx-4",attrs:{cols:"4"}},[a("v-layout",{staticClass:"align-center justify-center"},[a("v-autocomplete",{attrs:{items:t.respuestasa,label:"Respuesta automática","item-value":"id","item-text":"nombre"},model:{value:t.txtrespuestaa,callback:function(e){t.txtrespuestaa=e},expression:"txtrespuestaa"}})],1)],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-autocomplete",{attrs:{items:t.prioridad,label:"Prioridad","auto-select-first":""},model:{value:t.txtprioridad,callback:function(e){t.txtprioridad=e},expression:"txtprioridad"}})],1),a("v-col",[a("v-checkbox",{attrs:{color:"primary",label:"Confidencial"},on:{change:function(e){return t.changeConfidencialidad()}},model:{value:t.txtconfidencialidad,callback:function(e){t.txtconfidencialidad=e},expression:"txtconfidencialidad"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-autocomplete",{attrs:{items:t.ejes,label:"Eje temático","item-value":"id","item-text":"nombre",multiple:""},model:{value:t.txtkeywords,callback:function(e){t.txtkeywords=e},expression:"txtkeywords"}})],1),a("v-col",[a("v-btn",{attrs:{small:"",color:"primary",rounded:"",dark:""},on:{click:function(e){return t.opendialogAddRecord("eje")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("add")]),t._v("Agregar Eje")],1)],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-autocomplete",{attrs:{items:t.instituciones,label:"Instituciones","item-value":"id","item-text":"nombre",multiple:""},model:{value:t.txtinstituciones,callback:function(e){t.txtinstituciones=e},expression:"txtinstituciones"}})],1),a("v-col",[a("v-btn",{attrs:{small:"",color:"primary",rounded:"",dark:""},on:{click:function(e){return t.opendialogAddRecord("institucion")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("add")]),t._v("Agregar Inst.")],1)],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-textarea",{attrs:{outlined:"",label:"Detalle de la solicitud"},model:{value:t.txtdetalle,callback:function(e){t.txtdetalle=e},expression:"txtdetalle"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4",attrs:{cols:"5"}},[a("v-autocomplete",{attrs:{items:t.dependencias,label:"Áreas","item-value":"arecod","item-text":"arenom",multiple:""},on:{change:function(e){return t.addResponsable()}},model:{value:t.txtejetematico,callback:function(e){t.txtejetematico=e},expression:"txtejetematico"}})],1),a("v-col",{attrs:{cols:"3",align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){t.btn_responsable=!1,t.showgridresponsable=!0}}},[a("v-icon",{staticClass:"mr-1"},[t._v("person_add")]),t._v("Individual")],1)],1),a("v-col",{attrs:{cols:"3",align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){return t.addAllUsers()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("group_add")]),t._v("Todos")],1)],1)],1),t.showgridresponsable?a("v-row",[a("v-col",{staticClass:"pa-0 mx-4 mb-4"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers_responsables,items:t.responsables,"items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"2"}},[t.btn_responsable?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",fab:"",small:"",dark:""},on:{click:function(e){t.btn_responsable=!1}}},[a("v-icon",[t._v("person_add")])],1):t._e()],1),a("v-col",{attrs:{cols:"5"}},[a("v-autocomplete",{staticClass:"mx-4",attrs:{items:t.responsables,label:"Responsable salida","item-value":"documento","item-text":"nombre"},model:{value:t.txtresponsable_salida,callback:function(e){t.txtresponsable_salida=e},expression:"txtresponsable_salida"}})],1),t.btn_responsable?t._e():a("v-col",{attrs:{cols:"5"}},[a("v-autocomplete",{staticClass:"mx-4",attrs:{items:t.users,label:"Asignar usuario","item-value":"documento","item-text":"nombre",multiple:""},on:{change:function(e){return t.addResponsable2()}},model:{value:t.txtusers2,callback:function(e){t.txtusers2=e},expression:"txtusers2"}})],1)],1)]},proxy:!0},{key:"item.soporte_fisico",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{color:"primary"},model:{value:o.soporte_fisico,callback:function(e){t.$set(o,"soporte_fisico",e)},expression:"item.soporte_fisico"}})]}},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(e){return t.dropResponsable(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}],null,!1,3292522830)})],1)],1):t._e(),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-textarea",{attrs:{outlined:"",label:"Observaciones"},model:{value:t.txtobservaciones,callback:function(e){t.txtobservaciones=e},expression:"txtobservaciones"}})],1)],1)],1):t._e()],1)],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{attrs:{flat:""}},[a("v-container",[a("v-row",[a("v-col",{staticClass:"mx-4"},[a("v-file-input",{attrs:{"small-chips":"",multiple:"",label:"Seleccione los archivos de soporte"},model:{value:t.txtfiles,callback:function(e){t.txtfiles=e},expression:"txtfiles"}})],1)],1),t.editedIndex>0?a("v-row",[a("v-col",{staticClass:"mx-4"},t._l(t.adjuntos,(function(e,o){return a("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",close:"",cols:"auto"},on:{click:function(a){return t.downloadAdjunto(e.ruta_adjunto)},"click:close":function(a){return t.deleteAdjunto(e)}}},[t._v("\n                        "+t._s(e.nombre)+"\n                      ")])})),1)],1):t._e()],1)],1)],1)],1),a("v-card-text"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog=!1,t.editedIndex=-1}}},[t._v("\n              Cerrar\n            ")]),t.editedIndex>0?a("v-btn",{attrs:{color:"green",text:"",loading:t.loading_edit},on:{click:function(e){return t.updatePqr()}}},[t._v("\n              Actualizar\n            ")]):t._e(),t.editedIndex<0?a("v-btn",{attrs:{color:"green",text:"",loading:t.loading_save},on:{click:function(e){return t.savePqr()}}},[t._v("\n              Guardar\n            ")]):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialogaddrecord,callback:function(e){t.dialogaddrecord=e},expression:"dialogaddrecord"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n         Agregar "+t._s(t.tittlemodal)+"\n        ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnom,callback:function(e){t.txtnom=e},expression:"txtnom"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialogaddrecord=!1,t.txtnom=""}}},[t._v("\n            Cerrar\n          ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading_modaladd},on:{click:function(e){return t.savemodaladd()}}},[t._v("\n            Guardar\n          ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialogpassword,callback:function(e){t.dialogpassword=e},expression:"dialogpassword"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[!0===t.dialog&&!1===t.verifypassword?a("p",[t._v("Asignar contraseña")]):!1===t.verifypassword?a("p",[t._v("Mostrar contraseña")]):t._e(),t.verifypassword?a("p",[t._v("Verificar contraseña")]):t._e()]),a("v-card-text",[!0===t.dialog&&!1===t.verifypassword?a("p",[t._v("Por favor asigne una contraseña de 4 caracteres.")]):!1===t.verifypassword?a("p",[t._v("A continuación se muestra la contraseña asignada.")]):t._e(),t.verifypassword?a("p",[t._v("Por favor digite la contraseña.")]):t._e(),a("v-form",{ref:"form"},[a("v-text-field",{staticClass:"mt-4",attrs:{label:"Contraseña",dense:"",outlined:"","append-icon":t.show1?"visibility":"visibility_off",type:t.show1?"text":"password",counter:"4",rules:[t.rules.required,t.rules.max]},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.txtpassword,callback:function(e){t.txtpassword=e},expression:"txtpassword"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){return t.closePassword()}}},[t._v("\n            Cerrar\n          ")]),t.verifypassword?a("v-btn",{attrs:{color:"green",text:""},on:{click:function(e){return t.verifypasswordbd()}}},[t._v("\n            Verificar\n          ")]):t._e()],1)],1)],1)],1)},ve=[];function ge(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function be(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){ge(n,o,i,r,s,"next",t)}function s(t){ge(n,o,i,r,s,"throw",t)}r(void 0)}))}}var xe={props:["showbtn","filtropqr","valor"],data:function(){return{name:"pqr",headers:[{text:"Radicado",align:"center",value:"consecutivo"},{text:"Fecha y hora creación",align:"left",value:"fecha_creacion"},{text:"Estado",align:"center",value:"id_estado"},{text:"Días restantes",align:"center",value:"dias_respuesta"},{text:"Tipo comunicación",align:"center",value:"tipo_comunicacion"},{text:"Acciones",align:"center",value:"acciones"}],headers_responsables:[{text:"Documento",align:"center",value:"documento"},{text:"Nombre",align:"center",value:"nombre"},{text:"Área",align:"center",value:"area"},{text:"Impresión",align:"center",value:"soporte_fisico",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},max:function(t){return t.length<5||"Máximo 4 caracteres"}},openfromedit:!1,tittle_dp:"",body_dp:"",date_radicado:(new Date).toISOString().substr(0,10),date_oficio:(new Date).toISOString().substr(0,10),f_radicado:!1,f_oficio:!1,f_radicado_vu:!1,respuestasa:[],reclamos:[],misdatos:[],municipios:[],dependencias:[],users:[],adjuntos:[],responsables:[],ejes:[],instituciones:[],btn_responsable:!0,showgridresponsable:!1,loading:!1,loading_save:!1,loading_edit:!1,loading_drop:!1,loading_modaladd:!1,loading_password:!1,filtro:"",dialogpassword:!1,txtpassword:"",show1:!1,dialog:!1,dialogUsers:!1,dialogaddrecord:!1,editedIndex:-1,editItem:"",valBarcode:"",tab:null,estados:[{text:"Creado",value:"1"},{text:"Asignado",value:"2"},{text:"Verificado",value:"4"},{text:"Cerrado",value:"3"}],prioridad:["Normal","Alta","Baja","Urgente","Crítica"],medios:["Comunicación escrita - Carta","Comunicación escrita - Correo electrónico","Comunicación escrita - Memorando","Comunicación escrita - Página web","Comunicación escrita - Redes sociales","Comunicación verbal - Llamada telefónica","No disponible"],comunicacion:[],data_save:[],nombre_oficio:"",ruta_oficio:"",tittlemodal:"",txtrespuestaa:"",txtvb:"",txtnom:"",txtOficio:[],txtresponsable_salida:"",txtnombre:"",txtcedula:"",txtdireccion:"",txttelefono:"",txtemail:"",txtmunicipio:"",txttipocomunica:"",txtmediosolicita:"",txtkeywords:[],txtinstituciones:[],txtasunto:"",txtdetalle:"",txtejetematico:[],txtusers2:[],txtresponsable:"",txtdias:"",txtobservaciones:"",txtfiles:[],txtprioridad:"",txtconfidencialidad:"",txtnumfolios:"",verifypassword:!1,records:[],opciontype:"",filter_estado:""}},mounted:function(){this.getInfo(),this.getMunicipios(),this.getDependencias(),this.getTipoComunicacion(),this.getUsers(),this.getEjeTematico(),this.getInstituciones(),this.getrespuestasA()},methods:{closePassword:function(){this.dialogpassword=!1,""===this.txtpassword&&(this.txtconfidencialidad=!1)},envionotificaciones:function(){var t=be(re.a.mark((function t(e,a){var o,i,n,r,s,c;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getUsersAdminPqrs();case 3:for(o=t.sent,i=o.data,n=i,r=n.map((function(t){return t.perscod})),s={mensajenotificacion:"Se creó un nuevo registro en la plataforma de PQRSDF, ID "+e,asuntocorreo:"Notificación de creación de registro",mensajecorreo:"Se creó un nuevo registro en la plataforma de PQRSDF, ID "+e},c=0;c<r.length;c++)this.$root.$emit("enviarNotificaciones",{codigopersona:r[c],mensajenotificacion:s.mensajenotificacion,asuntocorreo:s.asuntocorreo,mensajecorreo:s.mensajecorreo,codigoopcion:57,numerointerno:a});t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e,a){return t.apply(this,arguments)}return e}(),verifypasswordbd:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.validatePasswordPqr(this.records.id,this.txtpassword);case 2:e=t.sent,a=e.data,a.respuesta?(this.dialogpassword=!1,"edit"===this.opciontype?this.editRecord(this.records.id):"detail"===this.opciontype&&this.verPqr(this.records)):this.$toasted.error("La contraseña es incorrecta",{icon:"error",duration:3e3});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openverifyPassword:function(t,e){this.opciontype=e,this.records=t,this.verifypassword=!0,this.txtpassword="",this.show1=!1,this.dialogpassword=!0},verPassword:function(t){this.txtpassword=t.password,this.show1=!0,this.dialogpassword=!0},changeConfidencialidad:function(){this.txtconfidencialidad&&(this.dialogpassword=!0)},savemodaladd:function(){var t=be(re.a.mark((function t(){var e;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading_modaladd=!0,"eje temático"!==this.tittlemodal){t.next=8;break}return t.next=5,ce.saveEjeTematico(this.txtnom);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,ce.saveInstitucion(this.txtnom);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialogaddrecord=!1,"eje temático"===this.tittlemodal?this.getEjeTematico():this.getInstituciones()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading_modaladd=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),opendialogAddRecord:function(t){this.tittlemodal="eje"===t?"eje temático":"institución",this.dialogaddrecord=!0},closeModal:function(){this.$emit("closemodal")},verPqr:function(t){this.$router.push("/pqrs/"+t.id)},addAllUsers:function(){this.showgridresponsable=!0,this.responsables=this.users},getUsers:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getUsers();case 2:e=t.sent,a=e.data,this.users=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),dropResponsable:function(t){var e=this.responsables.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(t)}));this.responsables.splice(e,1)},addResponsable2:function(){var t=be(re.a.mark((function t(){var e,a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showgridresponsable=!0,t.next=3,ce.getDataResponsable(this.txtusers2.slice(-1).pop());case 3:for(e=t.sent,a=e.data,console.log(this.txtusers2.slice(-1).pop()),console.log(a),o=0;o<a.length;o++)this.responsables.push(a[o]);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addResponsable:function(){var t=be(re.a.mark((function t(){var e,a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showgridresponsable=!0,t.next=3,ce.getInfoResponsable(this.txtejetematico.slice(-1).pop());case 3:for(e=t.sent,a=e.data,o=0;o<a.length;o++)this.responsables.push(a[o]);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getInfo:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getData(this.filtropqr,this.valor,this.filter_estado);case 2:e=t.sent,a=e.data,"No hay datos para Mostrar"!=a&&(this.reclamos=a.pqrs_reclamos);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMunicipios:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getMunicipios();case 2:e=t.sent,a=e.data,this.municipios=a.municipios;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDependencias:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getDependencias();case 2:e=t.sent,a=e.data,this.dependencias=a.areas;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTipoComunicacion:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getTipoComunicacion();case 2:e=t.sent,a=e.data,this.comunicacion=a.pqr_tipo_comunicacions;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getEjeTematico:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getEjeTematico();case 2:e=t.sent,a=e.data,this.ejes=a.pqr_eje_tematicos;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getInstituciones:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getInstituciones();case 2:e=t.sent,a=e.data,this.instituciones=a.pqr_instituciones;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getrespuestasA:function(){var t=be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getTipoRespuestasA();case 2:e=t.sent,a=e.data,this.respuestasa=a.pqr_respuesta_automaticas;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setRespuesta:function(){var t=this,e=this.comunicacion.filter((function(e){return e.id===t.txttipocomunica}));1===e.length&&(this.txtdias=e[0].dias_respuesta)},savePqr:function(){var t=be(re.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,f,h,v,g,b;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading_save=!0,a=!1,e=1==this.txtconfidencialidad?1:0,o={nombre:this.txtnombre,cedula:this.txtcedula,direccion:this.txtdireccion,telefono:this.txttelefono,email:this.txtemail,fecha_radicado:this.date_radicado,municipio:this.txtmunicipio,tipo_comunicacion:this.txttipocomunica,eje_tematico:this.txtkeywords,institucion:this.txtinstituciones,medio_solicita:this.txtmediosolicita,prioridad:this.txtprioridad,confidencial:e,asunto:this.txtasunto,detalle:this.txtdetalle,fecha_asignacion:this.date_oficio,dias:this.txtdias,observaciones:this.txtobservaciones,num_folios:this.txtnumfolios,responsables:this.responsables,responsable_salida:this.txtresponsable_salida,password:this.txtpassword,vistobueno:this.txtvb,user:this.$session.get("usuarioid")},t.next=6,ce.savePqr(o);case 6:if(i=t.sent,n=i.data,!0!==n.respuesta){t.next=50;break}if(r=n.id,s=n.consecutivo,!(this.txtfiles.length>0)){t.next=26;break}c=0;case 13:if(!(c<this.txtfiles.length)){t.next=26;break}return t.next=16,ce.uploadFile(this.txtfiles[c],r);case 16:if(l=t.sent,200!==l.status){t.next=23;break}return t.next=20,ce.saveAdjunto({nombre:l.data.filename,ruta:l.data.url,oficio:"N"});case 20:d=t.sent,u=d.data,1!=u.respuesta&&this.$toasted.error("Error al guardar archivos adjuntos",{icon:"done",duration:3e3});case 23:c++,t.next=13;break;case 26:if(""==this.txtOficio){t.next=36;break}return t.next=29,ce.uploadFile(this.txtOficio,r);case 29:if(p=t.sent,200!==p.status){t.next=36;break}return t.next=33,ce.saveAdjunto({nombre:p.data.filename,ruta:p.data.url,oficio:"S"});case 33:f=t.sent,h=f.data,1!=h.respuesta?(a=!1,this.$toasted.error("Error al guardar archivo oficio",{icon:"done",duration:3e3})):a=!0;case 36:if(v=this.responsables.filter((function(t){return!0===t.soporte_fisico})),!(!0===a&&v.length>0)){t.next=44;break}return t.next=40,ce.listPqr(r);case 40:g=t.sent,b=g.data,this.ruta_oficio=b.pqrs_reclamos[0].ruta_oficio,this.downloadAdjunto(this.ruta_oficio);case 44:window.open(m["a"].apiUrl+"/generateStickerPqrsdf?id="+r,"_blank"),this.loading_save=!1,this.dialog=!1,this.getInfo(),this.$toasted.success("Registro creado correctamente",{icon:"done",duration:3e3}),this.envionotificaciones(r,s);case 50:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editRecord:function(){var t=be(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.editedIndex=1,this.editItem=e,this.loading_edit=!0,t.next=5,ce.listPqr(e);case 5:a=t.sent,o=a.data,this.valBarcode=o.pqrs_reclamos[0].consecutivo,this.txtnombre=o.pqrs_reclamos[0].remitente,this.txtcedula=o.pqrs_reclamos[0].cedula,this.txtdireccion=o.pqrs_reclamos[0].direccion,this.txttelefono=o.pqrs_reclamos[0].telefono,this.txtemail=o.pqrs_reclamos[0].email,this.date_radicado=o.pqrs_reclamos[0].fecha_radicado.substring(0,10),this.txtmunicipio=o.pqrs_reclamos[0].codmunicipio,this.txttipocomunica=o.pqrs_reclamos[0].tipo_comunicacion,this.txtmediosolicita=o.pqrs_reclamos[0].medio_solicitante,this.txtkeywords=o.pqrs_reclamos[0].eje_tematico,this.txtinstituciones=o.pqrs_reclamos[0].instituciones,this.txtprioridad=o.pqrs_reclamos[0].prioridad,this.txtconfidencialidad=o.pqrs_reclamos[0].confidencialidad,this.txtvb=o.pqrs_reclamos[0].requierevb_director,this.txtasunto=o.pqrs_reclamos[0].asunto,this.txtdetalle=o.pqrs_reclamos[0].detalle,this.nombre_oficio=null===o.pqrs_reclamos[0].nombre_oficio?"":o.pqrs_reclamos[0].nombre_oficio,this.ruta_oficio=o.pqrs_reclamos[0].ruta_oficio,this.date_oficio=o.pqrs_reclamos[0].fecha_asignacion.substring(0,10),this.txtdias=o.pqrs_reclamos[0].dias_respuesta,this.txtobservaciones=o.pqrs_reclamos[0].observacion,this.txtnumfolios=o.pqrs_reclamos[0].num_folios,this.txtfiles=[],this.getResponsables(e),this.getAdjuntos(e),this.loading_edit=!1,this.dialog=!0;case 35:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getResponsables:function(){var t=be(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getResponsables(e);case 2:a=t.sent,this.showgridresponsable=!0,this.responsables=a.data,o=this.responsables.filter((function(t){return 1===t.responsable_salida})),o.length>0?this.txtresponsable_salida=o[0].documento:this.txtresponsable_salida="";case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getAdjuntos:function(){var t=be(re.a.mark((function t(e){var a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.listAdjuntos(e);case 2:a=t.sent,this.adjuntos=a.data.pqr_adjuntos;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),downloadAdjunto:function(t){var e=window.open(t,"_blank");e.focus()},deleteAdjunto:function(){var t=be(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.deleteFile(e.nombre,e.id);case 2:a=t.sent,o=a.data,"success"===o.tipo&&this.getAdjuntos(e.id_pqr);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteOficio:function(){var t=be(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.deleteOficio(e);case 2:a=t.sent,o=a.data,"success"===o.tipo&&(this.nombre_oficio="",this.ruta_oficio="");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openDialog:function(){this.txtnombre="",this.txtcedula="",this.txtdireccion="",this.txttelefono="",this.txtemail="",this.date_radicado=(new Date).toISOString().substr(0,10),this.txtmunicipio="",this.txttipocomunica="",this.txtmediosolicita="",this.txtprioridad=this.prioridad[0],this.txtconfidencialidad=!1,this.txtvb=!1,this.txtasunto="",this.txtdetalle="",this.txtejetematico=[],this.txtkeywords=[],this.txtinstituciones=[],this.txtOficio=[],this.date_oficio=(new Date).toISOString().substr(0,10),this.txtdias="",this.txtobservaciones="",this.txtnumfolios="",this.txtfiles=[],this.showgridresponsable=!1,this.responsables=[],this.txtpassword="",this.txtrespuestaa="",this.dialog=!0},updatePqr:function(){var t=be(re.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,f,h,v,g,b,x,_,w,y=this;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading_edit=!0,a=[],o=[],i=[],e=1==this.txtconfidencialidad?1:0,t.next=7,ce.getAsignados(this.editItem);case 7:for(n=t.sent,n.data.pqr_asignacions&&(o=n.data.pqr_asignacions.map((function(t){return t.documento}))),this.responsables.length>0&&(i=this.responsables.map((function(t){return t.documento}))),r=o.filter((function(t){return!i.includes(t)})),s=i.filter((function(t){return!o.includes(t)})),c=function(t){y.responsables.filter((function(e){e.documento==s[t]&&a.push(e)}))},l=0;l<s.length;l++)c(l);return n={id:this.editItem,cedula:this.txtcedula,nombre:this.txtnombre,direccion:this.txtdireccion,telefono:this.txttelefono,email:this.txtemail,municipio:this.txtmunicipio,fecha_radicado:this.date_radicado,tipo_comunicacion:this.txttipocomunica,medio_solicita:this.txtmediosolicita,prioridad:this.txtprioridad,confidencial:e,asunto:this.txtasunto,detalle:this.txtdetalle,fecha_asignacion:this.date_oficio,dias:this.txtdias,observaciones:this.txtobservaciones,num_folios:this.txtnumfolios,responsables_add:a,responsables_drop:r,responsable_salida:this.txtresponsable_salida,password:this.txtpassword,vistobueno:this.txtvb,user:this.$session.get("usuarioid"),respuesta_automatica:this.txtrespuestaa},t.next=17,ce.updatePqr(n);case 17:if(d=t.sent,u=d.data,!0!==u.respuesta){t.next=58;break}if(!(this.txtfiles.length>0)){t.next=35;break}p=0;case 22:if(!(p<this.txtfiles.length)){t.next=35;break}return t.next=25,ce.uploadFile(this.txtfiles[p],this.editItem);case 25:if(m=t.sent,200!==m.status){t.next=32;break}return t.next=29,ce.savefromH({nombre:m.data.filename,ruta:m.data.url,id_comentario:null,id_pqr:this.editItem});case 29:f=t.sent,h=f.data,1!=h.respuesta&&this.$toasted.error("Error al guardar archivos adjuntos",{icon:"done",duration:3e3});case 32:p++,t.next=22;break;case 35:if(""==this.txtOficio){t.next=45;break}return t.next=38,ce.uploadFile(this.txtOficio,this.editItem);case 38:if(v=t.sent,200!==v.status){t.next=45;break}return t.next=42,ce.updateOficio({nombre:v.data.filename,ruta:v.data.url,id:this.editItem});case 42:g=t.sent,b=g.data,1!=b.respuesta&&this.$toasted.error("Error al guardar archivo oficio",{icon:"done",duration:3e3});case 45:if(x=this.responsables.filter((function(t){return!0===t.soporte_fisico})),!(x.length>0)){t.next=53;break}return t.next=49,ce.listPqr(this.editItem);case 49:_=t.sent,w=_.data,this.ruta_oficio=w.pqrs_reclamos[0].ruta_oficio,this.downloadAdjunto(this.ruta_oficio);case 53:this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.loading_save=!1,this.loading_edit=!1,this.dialog=!1,this.getInfo();case 58:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{formTitle:function(){return-1===this.editedIndex?"Agregar registro":"Editar registro"},mydatacomputed:function(){var t=this,e=this.reclamos;return e.map((function(e){switch(parseInt(e.id_estado)){case 0:e.estado="Abierta";break;case 1:e.estado="Asignado";break;case 2:e.estado="En desarrollo";break;case 4:e.estado="Cerrada";break}var a,o=t.moment(),i=t.moment(e.fecha_radicado),n=o.diff(i,"days");a=parseInt(e.dias_respuesta)-parseInt(n),e.dias_respuesta=a<0?0:a})),e}}},_e=xe,we=(a("b991"),Object(y["a"])(_e,he,ve,!1,null,"77a4c3e8",null)),ye=we.exports,ke={components:{pqr:ye,charts:fe},data:function(){return{}}},Ce=ke,je=Object(y["a"])(Ce,ee,ae,!1,null,"7cce09bc",null),Pe=je.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{"mx-5":""}},[a("v-row",[a("v-col",{staticClass:"coldev"},[a("headPqr",{on:{"set-show-hist":function(e){t.showHistorial=!t.showHistorial}}})],1)],1),a("v-row",[a("v-col",{staticClass:"coldev",attrs:{cols:t.showHistorial?"6":"12"}},[a("detalle")],1),t.showHistorial?a("v-col",{staticClass:"coldev",attrs:{cols:t.showHistorial?"6":"0"}},[a("historial")],1):t._e()],1),a("v-row",[a("v-col",{staticClass:"coldev"},[a("areas")],1)],1)],1)},Te=[],Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticStyle:{"border-radius":"4px"},attrs:{flat:"",id:"headFactura"}},[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-btn",{staticClass:"mr-2",attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.$router.push("/pqrs")}}},[a("v-icon",[t._v("arrow_back")])],1),a("v-toolbar-title",[t._v("Información")]),a("v-spacer")],1),a("v-card-text",{staticStyle:{padding:"5px 16px 5px 16px"}},[a("v-row",{attrs:{"align-center":""}},[a("v-col",[a("v-flex",[a("div",{staticClass:"title"},[t._v("\n            "+t._s("# Reclamo: "+this.valBarcode)+"\n          ")]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Fecha:")]),t._v(" "+t._s(this.txtfecha))]),a("v-layout",{attrs:{"align-center":""}},[a("div",{staticClass:"subtitle"},[a("b",[t._v("Remitente:")]),t._v(" "+t._s(this.txtnombre))])]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Dirección:")]),t._v(" "+t._s(this.txtdireccion))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Teléfono:")]),t._v(" "+t._s(this.txttelefono)),a("span",[a("v-btn",{attrs:{icon:"",href:"https://api.whatsapp.com/send?phone=57"+this.txttelefono,target:"_blank"}},[a("v-icon",[t._v("phone")])],1)],1)]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Email:")]),t._v(" "+t._s(this.txtemail))])],1)],1),a("v-col",[a("v-flex",{attrs:{"align-self-end":""}},[a("div",{staticClass:"subtitle"},[a("b",[t._v("Tipo de comunicación:")]),t._v(" "+t._s(this.txttipocomunica))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Asunto:")]),t._v(" "+t._s(this.txtasunto))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Prioridad:")]),t._v(" "+t._s(this.txtprioridad))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Confidencialidad:")]),t._v(" "+t._s(this.txtconfidencialidad))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Municipio:")]),t._v(" "+t._s(this.txtmunicipio))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Medio solicitante:")]),t._v(" "+t._s(this.txtmediosolicita))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Estado:")]),a("v-chip",{staticClass:"subtitle ml-2",attrs:{color:t.estado_color,"text-color":"white"}},[t._v(t._s(this.txtestado))])],1)])],1),a("v-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{cols:"3"}},[a("v-row",[a("v-col",[a("div",[a("barcode",{attrs:{value:t.valBarcode,width:"1",height:"50"}})],1)])],1)],1)],1),a("v-row",[a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",outlined:"",small:""},on:{click:function(e){return t.$emit("set-show-hist")}}},[t._v(t._s(t.textBtnCommits))]),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",outlined:"",small:""},on:{click:function(e){return t.openRespuesta()}}},[t._v("Respuesta")]),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",outlined:"",small:""},on:{click:function(e){return t.previewDoc()}}},[t._v("Previsualizar respuesta")]),a("v-btn",{staticClass:"mx-1",attrs:{color:t.validarColor(this.vb_lider),outlined:"",small:""},on:{click:function(e){return t.changevbresponsable()}}},[t._v("VoBo Responsable")]),1===t.requierevb?a("v-btn",{staticClass:"mx-1",attrs:{color:t.validarColor(this.vb_director),outlined:"",small:""},on:{click:function(e){return t.changevbdireccion()}}},[t._v("VoBo Directiva")]):t._e(),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",outlined:"",small:""},on:{click:function(e){return t.openDocFirmado()}}},[t._v("Documento Firmado")]),a("v-btn",{staticClass:"mx-1",attrs:{color:"green",outlined:"",small:"",disabled:"Cerrada"==t.txtestado},on:{click:function(e){return t.cerrarRegistro()}}},[t._v("Cerrar")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{width:"900",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("v-layout",{staticClass:"justify-center align-center"},[t._v("\n        Proyectar respuesta\n        "),a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"primary",small:""},on:{click:function(e){t.dialog=!t.dialog}}},[t._v("Cerrar")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",small:"",disabled:"Cerrada"==t.txtestado},on:{click:function(e){return t.saveRespuesta()}}},[t._v("Guardar")])],1)],1),a("v-card-text",[a("vue-editor",{attrs:{id:"editor2","editor-toolbar":t.customToolbar,disabled:"Cerrada"==t.txtestado},model:{value:t.respuesta,callback:function(e){t.respuesta=e},expression:"respuesta"}}),a("v-file-input",{staticClass:"mt-4",attrs:{dense:"",outlined:"",multiple:"","small-chips":"",color:"primary",label:"Adjuntar Documentos"},model:{value:t.txtadjuntos,callback:function(e){t.txtadjuntos=e},expression:"txtadjuntos"}}),t.items_adjuntos.length>0?a("v-row",[a("v-col",{staticClass:"mx-4"},t._l(t.items_adjuntos,(function(e,o){return a("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",close:"",cols:"auto"},on:{click:function(a){return t.downloadAdjunto(e.ruta_adjunto)},"click:close":function(a){return t.deleteAdjunto(e,1)}}},[t._v("\n            "+t._s(e.nombre)+"\n          ")])})),1)],1):t._e(),a("v-layout",{staticClass:"align-center justify-center"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.dialog_comment=!0}}},[a("v-icon",{staticClass:"mx-1",attrs:{color:"primary"}},[t._v("chat_bubble_outline")]),t._v("\n          Añadir comentario\n        ")],1)],1),t.comentarios.length>0?a("v-container",{staticClass:"pa-0 mt-2"},[a("v-row",[a("v-col",[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-toolbar-title",[t._v("Comentarios")]),a("v-spacer")],1),a("v-list",{attrs:{"three-line":""}},[t._l(t.comentarios,(function(e,o){return[a("v-list-item",{key:o},[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:"primary"}},[a("span",{staticClass:"white--text headline"},[t._v(t._s(t.iniciales))])])],1),a("v-list-item-content",[a("v-list-item-title",[a("v-layout",[a("div",{domProps:{innerHTML:t._s(e.nombre)}}),a("v-spacer"),a("div",{staticClass:"text--secondary caption"},[t._v(t._s(e.fecha))])],1)],1),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.comentario)}})],1)],1),o+1<t.comentarios.length?a("v-divider",{key:o}):t._e()]}))],2)],1)],1)],1)],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.dialog_comment,callback:function(e){t.dialog_comment=e},expression:"dialog_comment"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"headline"},[a("v-layout",{staticClass:"align-center justify-center"})],1),a("v-card-text",[a("div",[a("v-layout",{staticClass:"headline font-weight-bold align-center justify-center mb-2"},[t._v("\n          Añadir comentario\n        ")]),a("v-textarea",{attrs:{outlined:"",label:"Comentario"},model:{value:t.txtcomentario,callback:function(e){t.txtcomentario=e},expression:"txtcomentario"}}),a("v-layout",{staticClass:"align-center justify-center"},[a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.saveComentario()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("save")]),t._v("Guardar")],1)],1)],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog_comment=!1}}},[t._v("Cerrar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.dialog_upload,callback:function(e){t.dialog_upload=e},expression:"dialog_upload"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"headline"},[a("v-layout",{staticClass:"align-center justify-center"},[t._v("\n        Adjuntar documento firmado\n      ")])],1),a("v-card-text",[a("div",[a("v-layout",{staticClass:" font-weight-bold align-center justify-center mb-2"},[t._v("\n          El documento que se adjunte a continuación deberá contener la firma digital, ya que será el documento final que se enviará como respuesta final.\n        ")]),t.doc_firmado.length>0?a("v-row",[a("v-col",{staticClass:"mx-4"},t._l(t.doc_firmado,(function(e,o){return a("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",close:"",cols:"auto"},on:{click:function(a){return t.downloadAdjunto(e.ruta_adjunto)},"click:close":function(a){return t.deleteAdjunto(e,2)}}},[t._v("\n              "+t._s(e.nombre)+"\n            ")])})),1)],1):0==t.doc_firmado.length?a("v-row",[a("v-file-input",{staticClass:"mt-4",attrs:{dense:"",outlined:"","small-chips":"",color:"primary",label:"Adjuntar Documento"},on:{change:function(e){return t.saveRespuestaFinal()}},model:{value:t.txtdocfirmado,callback:function(e){t.txtdocfirmado=e},expression:"txtdocfirmado"}})],1):t._e()],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog_upload=!1}}},[t._v("Cerrar")])],1)],1)],1)],1)},Oe=[],qe=a("5873");function Ee(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Ie(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Ee(n,o,i,r,s,"next",t)}function s(t){Ee(n,o,i,r,s,"throw",t)}r(void 0)}))}}var De={components:{VueEditor:qe["a"]},data:function(){return{nombreresponsable:"",cargo:"",iniciales:"",requierevb:"",txtconsecutivo:"",txtfecha:"",txtnombre:"",txtdireccion:"",txttelefono:"",txtemail:"",txttipocomunica:"",txtasunto:"",txtprioridad:"",txtmediosolicita:"",txtconfidencialidad:"",txtmunicipio:"",txtcomentario:"",txtdocfirmado:[],txtadjuntos:[],comentarios:[],valBarcode:"",usuarionormal:!0,id_estado:"",txtestado:"",estado_color:"",dialog:!1,dialog_comment:!1,dialog_upload:!1,respuesta:"",vb_lider:"",vb_director:"",customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["image"]],doc_firmado:[],items_adjuntos:[],items_comments:[]}},created:function(){var t=this.$session.get("nombre").split(" ",2);this.iniciales=t[0].substring(0,1)+t[1].substring(0,1)},mounted:function(){var t=Ie(re.a.mark((function t(){var e,a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.getData(),this.getResponsable(),this.refreshComentariosRespuesta(),t.next=5,ce.getRespuesta(this.$route.params.id);case 5:return e=t.sent,a=e.data,a.length>0&&(this.respuesta=a[0].comentario),t.next=10,ce.getInfoDocumentoFirmado(this.$route.params.id);case 10:o=t.sent,o.data.length>0&&(this.doc_firmado=o.data);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{changevbresponsable:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==this.usuarionormal){t.next=6;break}return t.next=3,ce.changevbresponsable(this.$session.get("usuarioid"),this.$route.params.id);case 3:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData()):this.$toasted.error("Error",{icon:"done",duration:3e3});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changevbdireccion:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(2!==parseInt(this.$session.get("usuarioid"))){t.next=6;break}return t.next=3,ce.changevbdireccion(this.$session.get("usuarioid"),this.$route.params.id);case 3:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData()):this.$toasted.error("Error",{icon:"error",duration:3e3});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cerrarRegistro:function(){var t=Ie(re.a.mark((function t(){var e,a,o,i;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==parseInt(this.requierevb)){t.next=12;break}if(1!==parseInt(this.vb_lider)||1!==parseInt(this.vb_director)){t.next=9;break}return t.next=4,ce.cerrarPqr(this.$session.get("usuarioid"),this.$route.params.id);case 4:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData(),window.open(m["a"].apiUrl+"/generateStickerPqrsdfSalida?id="+this.$route.params.id,"_blank")):this.$toasted.error("Error",{icon:"error",duration:3e3}),t.next=10;break;case 9:this.$toasted.error("No es posible cerrar un documento sin ambos VoBo.",{icon:"done",duration:3e3});case 10:t.next=25;break;case 12:if(1!==parseInt(this.vb_lider)){t.next=24;break}if(0!==this.doc_firmado.length){t.next=17;break}this.$toasted.error("No es posible cerrar el registro sin antes tener la respuesta final adjunta.",{icon:"error",duration:3e3}),t.next=22;break;case 17:return t.next=19,ce.cerrarPqr(this.$session.get("usuarioid"),this.$route.params.id);case 19:o=t.sent,i=o.data,"success"===i.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData(),window.open(m["a"].apiUrl+"/generateStickerPqrsdfSalida?id="+this.$route.params.id,"_blank")):this.$toasted.error("Error",{icon:"error",duration:3e3});case 22:t.next=25;break;case 24:this.$toasted.error("No es posible cerrar un documento sin el VoBo.",{icon:"done",duration:3e3});case 25:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downloadAdjunto:function(t){var e=window.open(t,"_blank");e.focus()},deleteAdjunto:function(){var t=Ie(re.a.mark((function t(e,a){var o,i,n;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Cerrada"!=this.txtestado){t.next=4;break}this.$toasted.error("No es posible eliminar el documento firmado después de cerrado el registro.",{icon:"error",duration:3500}),t.next=10;break;case 4:return o=e.ruta_adjunto.substring(57),t.next=7,ce.deleteFile(o,e.id);case 7:i=t.sent,n=i.data,"success"===n.tipo&&(1==a?this.openRespuesta():this.openDocFirmado());case 10:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),getResponsable:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getResponsablepqr(this.$session.get("usuarioid"),this.$route.params.id);case 3:e=t.sent,a=e.data,this.nombreresponsable=a.nombre,this.cargo=a.cargo,this.usuarionormal=a.respuesta,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),previewDoc:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getRespuesta(this.$route.params.id);case 2:e=t.sent,a=e.data,a.length>0?window.open(m["a"].apiUrl+"/previewpdfPqrsdf?id="+this.$route.params.id,"_blank"):this.$toasted.error("No se puede previsualizar el documento sin antes tener definido un cuerpo de respuesta",{icon:"error",duration:3500});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refreshComentariosRespuesta:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getComentariosRespuesta(this.$route.params.id);case 3:e=t.sent,a=e.data,this.comentarios=a,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),saveComentario:function(){var t=Ie(re.a.mark((function t(){var e,a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={id_reclamo:this.$route.params.id,comentario:this.txtcomentario,id_usuario:this.$session.get("usuarioid"),respuesta:1},t.prev=1,t.next=4,ce.saveComentario(e);case 4:a=t.sent,o=a.data,"success"===o.tipo?this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}):this.$toasted.error("Error al guardar archivo oficio",{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.dialog_comment=!1,this.txtcomentario="",this.refreshComentariosRespuesta(),t.finish(12);case 17:case"end":return t.stop()}}),t,this,[[1,9,12,17]])})));function e(){return t.apply(this,arguments)}return e}(),saveRespuesta:function(){var t=Ie(re.a.mark((function t(){var e,a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={id_reclamo:this.$route.params.id,comentario:this.respuesta,id_usuario:this.$session.get("usuarioid")},t.prev=1,t.next=4,ce.saveRespuesta(e,this.txtadjuntos);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.getData()):this.$toasted.error(o.respuesta,{icon:"done",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.dialog=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),saveRespuestaFinal:function(){var t=Ie(re.a.mark((function t(){var e,a,o,i;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={id_reclamo:this.$route.params.id},a=new FormData,a.append("archivos",this.txtdocfirmado),a.append("obj",JSON.stringify(e)),t.prev=4,t.next=7,ce.saveRespuestaFinal(a);case 7:o=t.sent,i=o.data,"success"===i.tipo?(this.$toasted.success(i.respuesta,{icon:"done",duration:3e3}),this.openDocFirmado()):this.$toasted.error(i.respuesta,{icon:"done",duration:3e3}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,this,[[4,12]])})));function e(){return t.apply(this,arguments)}return e}(),openDocFirmado:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getInfoDocumentoFirmado(this.$route.params.id);case 2:e=t.sent,a=e.data,this.txtdocfirmado=[],this.doc_firmado=[],a.length>0&&(this.doc_firmado=a),this.dialog_upload=!0;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openRespuesta:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getRespuesta(this.$route.params.id);case 2:e=t.sent,a=e.data,a.length>0&&(this.respuesta=a[0].comentario,this.items_adjuntos=a[0].adjuntos),this.dialog=!0,this.txtadjuntos=[];case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),validarColor:function(t){return 0===parseInt(t)?"primary":1===parseInt(t)?"green":void 0},getData:function(){var t=Ie(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.listPqr(this.$route.params.id);case 2:e=t.sent,a=e.data,this.requierevb=a.pqrs_reclamos[0].requierevb_director,this.valBarcode=a.pqrs_reclamos[0].consecutivo,this.txtfecha=a.pqrs_reclamos[0].fecha_creacion,this.txtnombre=a.pqrs_reclamos[0].remitente,this.txtdireccion=a.pqrs_reclamos[0].direccion,this.txttelefono=a.pqrs_reclamos[0].telefono,this.txtemail=a.pqrs_reclamos[0].email,this.txttipocomunica=a.pqrs_reclamos[0].descripcion,this.txtasunto=a.pqrs_reclamos[0].asunto,this.txtprioridad=a.pqrs_reclamos[0].prioridad,this.id_estado=a.pqrs_reclamos[0].id_estado,this.txtmediosolicita=a.pqrs_reclamos[0].medio_solicitante,this.txtmunicipio=a.pqrs_reclamos[0].municipio,this.vb_lider=a.pqrs_reclamos[0].vb_lider,this.vb_director=a.pqrs_reclamos[0].vb_director,0===parseInt(a.pqrs_reclamos[0].confidencialidad)?this.txtconfidencialidad="No":this.txtconfidencialidad="Si",t.t0=parseInt(this.id_estado),t.next=0===t.t0?23:1===t.t0?26:2===t.t0?29:4===t.t0?32:35;break;case 23:return this.txtestado="Abierta",this.estado_color="#5E35B1",t.abrupt("break",35);case 26:return this.txtestado="Asignado",this.estado_color="#58af58",t.abrupt("break",35);case 29:return this.txtestado="En desarrollo",this.estado_color="#FFC61A",t.abrupt("break",35);case 32:return this.txtestado="Cerrada",this.estado_color="#F44336",t.abrupt("break",35);case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{textBtnCommits:function(){return"Ver historial"}},watch:{}},Ue=De,$e=(a("4e7b"),Object(y["a"])(Ue,Se,Oe,!1,null,null,null)),Re=$e.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-card",[a("v-layout",{staticStyle:{"background-color":"#0071BC","border-radius":"3px 3px 0px 0px",padding:"0px 12px 0px 12px"},attrs:{"align-center":""}},[a("div",{staticClass:"title",staticStyle:{color:"white"}},[t._v("Detalles reclamo")]),a("v-spacer")],1),a("v-row",[a("v-col",[a("v-tabs",{attrs:{centered:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n            Datos\n          ")]),a("v-tab",{attrs:{href:"#tab-3"}},[t._v("\n            Adjuntos\n          ")])],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-row",[a("v-col",{staticClass:"mx-6 pa-0"},[a("v-textarea",{attrs:{outlined:"",label:"Detalle de la solicitud",rows:"2",readonly:""},model:{value:t.txtdetalle,callback:function(e){t.txtdetalle=e},expression:"txtdetalle"}})],1),a("v-col",{staticClass:"mx-6 pa-0"},[a("v-textarea",{attrs:{outlined:"",label:"Observaciones",rows:"2",readonly:""},model:{value:t.txtobservaciones,callback:function(e){t.txtobservaciones=e},expression:"txtobservaciones"}})],1)],1),a("v-row",[a("v-col",{staticClass:"ml-6 mr-4 pa-0",attrs:{cols:"3"}},[a("div",{staticClass:"subtitle grey--text"},[t._v("Oficio:\n              "),a("v-chip",{staticClass:"ma-2",attrs:{color:"primary",cols:"auto",disabled:"No agregado."===this.nombre_oficio},on:{click:function(e){return t.downloadAdjunto(t.ruta_oficio)}}},[t._v("\n                "+t._s(this.nombre_oficio)+"\n              ")])],1)]),a("v-col",{staticClass:"ml-4 mr-6 pa-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Fecha asignación oficio","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_oficio,callback:function(e){t.date_oficio=e},expression:"date_oficio"}})],1),a("v-col",{staticClass:"ml-4 mr-6 pa-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Número de días para respuesta",readonly:""},model:{value:t.txtdias,callback:function(e){t.txtdias=e},expression:"txtdias"}})],1),a("v-col",{staticClass:"ml-4 mr-6 pa-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Número de folios",readonly:""},model:{value:t.txtnumfolios,callback:function(e){t.txtnumfolios=e},expression:"txtnumfolios"}})],1)],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-row",[a("v-col",{staticClass:"mx-4"},t._l(t.adjuntos,(function(e,o){return a("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",cols:"auto"},on:{click:function(a){return t.downloadAdjunto(e.ruta_adjunto)}}},[t._v("\n              "+t._s(e.nombre)+"\n            ")])})),1)],1)],1)],1)],1)],1)},Ne=[];function Fe(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Be(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Fe(n,o,i,r,s,"next",t)}function s(t){Fe(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Le={data:function(){return{tab:null,txtdetalle:"",txtobservaciones:"",txtdias:"",txtradicado:"",txtnumfolios:"",date_oficio:"",date_radicado_vu:"",ruta_oficio:"",nombre_oficio:"",adjuntos:[]}},mounted:function(){var t=Be(re.a.mark((function t(){return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getData(),this.getAdjuntos(this.$route.params.id);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getData:function(){var t=Be(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.listPqr(this.$route.params.id);case 2:e=t.sent,a=e.data,this.txtdetalle=a.pqrs_reclamos[0].detalle,this.txtobservaciones=a.pqrs_reclamos[0].observacion,this.nombre_oficio=null===a.pqrs_reclamos[0].nombre_oficio?"No agregado.":a.pqrs_reclamos[0].nombre_oficio,this.ruta_oficio=a.pqrs_reclamos[0].ruta_oficio,this.date_oficio=a.pqrs_reclamos[0].fecha_asignacion.substring(0,10),this.txtdias=a.pqrs_reclamos[0].dias_respuesta,this.txtradicado=a.pqrs_reclamos[0].radicado_vu,this.txtnumfolios=a.pqrs_reclamos[0].num_folios;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downloadAdjunto:function(t){var e=window.open(t,"_blank");e.focus()},getAdjuntos:function(){var t=Be(re.a.mark((function t(e){var a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.listAdjuntos(e);case 2:a=t.sent,"No hay datos para Mostrar"!=a.data&&(this.adjuntos=a.data.pqr_adjuntos);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},ze=Le,Ge=Object(y["a"])(ze,Me,Ne,!1,null,"070b9670",null),Xe=Ge.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-toolbar-title",[t._v("Historial")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showSearch=!t.showSearch}}},[a("v-icon",[t._v("search")])],1),t.showSearch?a("v-text-field",{staticClass:"inputTable",staticStyle:{"max-width":"300px"},attrs:{light:"",placeholder:"Filtrar",rounded:"","hide-details":"",solo:"",dense:"",flat:""},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}}):t._e(),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showAddComment=!0}}},[a("v-icon",[t._v("add")])],1)],1),a("v-container",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target"}},[t.compItems.length>0?a("v-list",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],attrs:{"two-line":""}},[a("v-list-item-group",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._l(t.compItems,(function(e,o){return[a("v-row",{key:e.id},[a("v-col",{attrs:{cols:"11"}},[a("v-list-item",{key:e.id,scopedSlots:t._u([{key:"default",fn:function(o){return[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:"primary"}},[a("span",{staticClass:"white--text headline"},[t._v(t._s(t.iniciales))])])],1),a("v-list-item-content",[a("v-list-item-title",[a("v-layout",{attrs:{"align-center":""}},[a("div",{staticClass:"text--secondary"},[t._v(t._s(e.nombre))]),a("v-spacer"),a("div",{staticClass:"text--secondary caption"},[t._v(t._s(e.fecha.substring(0,19)))])],1)],1),a("v-list-item-subtitle",[a("v-layout",{staticClass:"text--primary text-wrap",attrs:{wrap:""}},[a("div",{domProps:{innerHTML:t._s(e.comentario)}})])],1),a("v-list-item-subtitle",[a("v-layout",{attrs:{wrap:""}},[a("v-spacer"),t._l(e.adjuntos,(function(e){return[a("v-btn",{key:e.id,staticClass:"mx-1",attrs:{small:"",outlined:"",color:"primary",href:e.ruta_adjunto,target:"_blank"}},[t._v(t._s(e.nombre))])]}))],2)],1)],1)]}}],null,!0)})],1)],1),o+1<t.compItems.length?a("v-divider",{key:o}):t._e()]}))],2)],1):t._e()],1),a("v-dialog",{attrs:{width:"800",persistent:""},model:{value:t.showAddComment,callback:function(e){t.showAddComment=e},expression:"showAddComment"}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"lg-h2"},[t._v("Comentario")])]),a("v-card-text",[a("vue-editor",{staticStyle:{width:"100%"},attrs:{id:"editor1","editor-toolbar":t.customToolbar},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}}),t.ruleste2?a("p",{staticStyle:{color:"red"}},[t._v(t._s(t.ruleste2))]):t._e(),a("v-file-input",{staticClass:"mt-3",attrs:{"small-chips":"",multiple:"",label:"Adjuntos",outlined:"","prepend-icon":"",dense:"","show-size":"",accept:"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,text/plain,application/pdf,image/*",rules:t.inputRules},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),a("v-layout",[a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"primary",small:""},on:{click:function(e){t.showAddComment=!t.showAddComment}}},[t._v("cancelar")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",small:""},on:{click:function(e){return t.saveComentario()}}},[t._v("Guardar")])],1)],1)],1)],1)],1)},Ve=[];function Ye(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Je(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Ye(n,o,i,r,s,"next",t)}function s(t){Ye(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ze={components:{VueEditor:qe["a"]},data:function(){return{iniciales:"",selected:"",showSearch:!1,showAddComment:!1,filtro:"",comentario:"",files:[],items:[],offsetTop:0,customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]}},created:function(){var t=this.$session.get("nombre").split(" ",2);this.iniciales=t[0].substring(0,1)+t[1].substring(0,1)},mounted:function(){var t=Je(re.a.mark((function t(){return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getComentarios();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getComentarios:function(){var t=Je(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getComentario(this.$route.params.id);case 2:e=t.sent,a=e.data,this.items=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveComentario:function(){var t=Je(re.a.mark((function t(){var e,a,o,i,n,r,s,c;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={id_reclamo:this.$route.params.id,comentario:this.comentario,id_usuario:this.$session.get("usuarioid")},t.next=3,ce.saveComentario(e);case 3:if(a=t.sent,o=a.data,i=o.id,"success"!==o.tipo){t.next=25;break}if(!(this.files.length>0)){t.next=22;break}n=0;case 9:if(!(n<this.files.length)){t.next=22;break}return t.next=12,ce.uploadFile(this.files[n],e.id_reclamo);case 12:if(r=t.sent,200!==r.status){t.next=19;break}return t.next=16,ce.savefromH({id_pqr:this.$route.params.id,nombre:r.data.filename,ruta:r.data.url,id_comentario:i});case 16:s=t.sent,c=s.data,1!=c.respuesta?this.$toasted.error("Error al guardar archivos adjuntos",{icon:"done",duration:3e3}):this.$emit("refresh-adjuntos");case 19:n++,t.next=9;break;case 22:this.showAddComment=!1,this.getComentarios(),this.$toasted.success("Registro creado correctamente",{icon:"done",duration:3e3});case 25:console.log(o);case 26:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onScroll:function(t){this.offsetTop=t.target.scrollTop}},computed:{compItems:function(){var t=this;return this.items.filter((function(e){return e.comentario.toUpperCase().includes(t.filtro.toUpperCase())||e.nombre.toUpperCase().includes(t.filtro.toUpperCase())||e.fecha.includes(t.filtro.toUpperCase())}))},inputRules:function(){var t=[];return this.files.forEach((function(e){e.size>5e6&&t.push("El archivo debe tener un tamaño menor a 5 MB!")})),t},ruleste2:function(){return this.comentario.length>500?"Demasiados caracteres en la observacion, limite 500":""}},watch:{}},Qe=Ze,Ke=Object(y["a"])(Qe,He,Ve,!1,null,"7a1dfd08",null),We=Ke.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-toolbar-title",[t._v("Agentes involucrados")]),a("v-spacer")],1),a("v-card-text",[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-btn",{attrs:{disabled:4==t.estado,outlined:"",fab:"",color:"primary",small:""},on:{click:function(e){t.dialog=!0,t.autocomplete=!1}}},[a("v-icon",[t._v("add")])],1),t._l(t.involved,(function(e,o){return[a("v-tooltip",{key:o,attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[a("v-chip",t._g({staticClass:"ma-2",attrs:{outlined:"",close:"",color:"primary"},on:{"click:close":function(a){return t.remove(e)}}},i),[t._v("\n                "+t._s(e.arenom)+"\n              ")])]}}],null,!0)},[a("span",[t._v(t._s(e.nombre))])])]}))],2)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"350px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n          Agregar usuarios\n      ")]),a("v-container",[a("v-row",[a("v-col",{attrs:{align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){return t.showAutocomplete("individual")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("person_add")]),t._v("Individual")],1)],1),a("v-col",{attrs:{align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){return t.showAutocomplete("areas")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("group_add")]),t._v("Áreas")],1)],1)],1),t.autocomplete?a("v-row",[a("v-col",{staticClass:"mx-2"},[a("v-autocomplete",{attrs:{items:t.records,label:t.labelselect,"item-value":t.value,"item-text":t.text,multiple:""},model:{value:t.txtagregar,callback:function(e){t.txtagregar=e},expression:"txtagregar"}})],1)],1):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cerrar")]),a("v-btn",{attrs:{color:"success",text:""},on:{click:function(e){return t.saveAgentes()}}},[t._v("Guardar")])],1)],1)],1)],1)},ea=[];function aa(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function oa(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){aa(n,o,i,r,s,"next",t)}function s(t){aa(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ia={data:function(){return{estado:"",involved:[],records:[],dialog:!1,autocomplete:!1,labelselect:"",txtagregar:[],value:"",text:"",tipo:""}},mounted:function(){var t=oa(re.a.mark((function t(){return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getData();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{saveAgentes:function(){var t=oa(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.txtagregar.length>0)){t.next=9;break}return t.next=3,ce.saveAsignacion(this.tipo,this.txtagregar,this.$route.params.id,this.$session.get("usuarioid"));case 3:e=t.sent,a=e.data,console.log(a),"success"===a.tipo&&(this.getData(),this.$toasted.success(a.respuesta,{icon:"done",duration:3e3}),this.dialog=!1),t.next=10;break;case 9:this.$toasted.error("Debe seleccionar un registro",{icon:"error",duration:3e3});case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showAutocomplete:function(){var t=oa(re.a.mark((function t(e){var a,o,i,n;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.tipo=e,this.txtagregar="",this.autocomplete=!0,this.labelselect="individual"===e?"Usuarios":"Áreas","individual"!==e){t.next=15;break}return this.labelselect="Usuarios",t.next=8,ce.getUsers();case 8:a=t.sent,o=a.data,this.value="documento",this.text="nombre",this.records=o,t.next=23;break;case 15:return this.labelselect="Áreas",t.next=18,ce.getDependencias();case 18:i=t.sent,n=i.data,this.value="arecod",this.text="arenom",this.records=n.areas;case 23:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getData:function(){var t=oa(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.getAgentes(this.$route.params.id);case 2:e=t.sent,a=e.data,this.estado=a[1][0].id_estado,this.involved=a[0];case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),remove:function(){var t=oa(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.deleteAsignacion(e.id,this.$session.get("usuarioid"));case 2:a=t.sent,o=a.data,console.log(o),"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3});case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},na=ia,ra=Object(y["a"])(na,ta,ea,!1,null,"d193d958",null),sa=ra.exports;function ca(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function la(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){ca(n,o,i,r,s,"next",t)}function s(t){ca(n,o,i,r,s,"throw",t)}r(void 0)}))}}var da={components:{headPqr:Re,detalle:Xe,historial:We,areas:sa},data:function(){return{showHistorial:!1}},beforeCreate:function(){var t=la(re.a.mark((function t(){return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=la(re.a.mark((function t(){return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},ua=da,pa=(a("b1c1"),Object(y["a"])(ua,Ae,Te,!1,null,"2197ae96",null)),ma=pa.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n    No tiene permisos asignados para esta opción.\n  ")]):a("dashboard")],1)},ha=[],va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{staticClass:"mx-4",attrs:{lg6:""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){t.dialog_charts=!0}}},[a("v-icon",{staticClass:"mr-1"},[t._v("bar_chart")]),t._v(" Reporte Consolidado ")],1),a("v-card",[a("v-card-title",[t._v("\n          Panel de control\n        ")]),a("v-card-subtitle",[t._v("Reportar período entre:")]),a("v-card-text",[a("v-row",{staticClass:"justify-center align-center"},[a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha inicio","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_inicio,callback:function(e){t.date_inicio=e},expression:"date_inicio"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_inicio,callback:function(e){t.f_inicio=e},expression:"f_inicio"}},[a("v-date-picker",{on:{input:function(e){t.f_inicio=!1}},model:{value:t.date_inicio,callback:function(e){t.date_inicio=e},expression:"date_inicio"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha fin","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_fin,callback:function(e){t.date_fin=e},expression:"date_fin"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_fin,callback:function(e){t.f_fin=e},expression:"f_fin"}},[a("v-date-picker",{on:{input:function(e){t.f_fin=!1}},model:{value:t.date_fin,callback:function(e){t.date_fin=e},expression:"date_fin"}})],1)],1),a("v-col",[a("v-btn",{attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.filterData()}}},[t._v("\n                  GO\n                ")])],1)],1),a("v-row",[a("v-col",[a("v-tabs",{attrs:{centered:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n                  Dependencia\n                ")]),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n                  Tipo de solicitud\n                ")]),a("v-tab",{attrs:{href:"#tab-3"}},[t._v("\n                  Agente\n                ")]),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_dependencia,items:t.items_dep,"items-per-page":5,loading:t.loading,search:t.busqueda_dep},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.busqueda_dep,callback:function(e){t.busqueda_dep=e},expression:"busqueda_dep"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.filtro="dependencia",t.valor=o.id_area}}},[a("v-icon",[t._v("\n                              subdirectory_arrow_right\n                            ")])],1)]}}])})],1)],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_tipo,items:t.items_tipo,"items-per-page":5,loading:t.loading,search:t.busqueda_eje},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.busqueda_eje,callback:function(e){t.busqueda_eje=e},expression:"busqueda_eje"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.filtro="tiposolicitud",t.valor=o.id}}},[a("v-icon",[t._v("\n                              subdirectory_arrow_right\n                            ")])],1)]}}])})],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_agente,items:t.items_agen,"items-per-page":5,loading:t.loading,search:t.busqueda_agen},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.busqueda_agen,callback:function(e){t.busqueda_agen=e},expression:"busqueda_agen"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.filtro="agente",t.valor=o.documento}}},[a("v-icon",[t._v("\n                              subdirectory_arrow_right\n                            ")])],1)]}}])})],1)],1)],1)],1),a("v-card",{attrs:{elevation:"2"}},[a("v-btn",{staticClass:"ma-2",attrs:{small:"",rounded:"",color:"success"}},[a("v-icon",{staticClass:"ml-1",attrs:{left:""}},[t._v("\n                    list_alt\n                  ")]),t._v("\n                  Exportar\n                ")],1)],1)],1)],1)],1)],1)],1),t.showgrid?a("v-flex",{staticClass:"mx-4",attrs:{cols:"8"}},[t.showgrid?a("pqr",{attrs:{showbtn:!0,filtropqr:t.filtro,valor:t.valor},on:{closemodal:function(e){t.showgrid=!1}}}):t._e()],1):t._e()],1),a("v-dialog",{attrs:{width:"85%",transition:"dialog-bottom-transition"},model:{value:t.dialog_charts,callback:function(e){t.dialog_charts=e},expression:"dialog_charts"}},[a("v-card",[t.dialog_charts?a("charts",{attrs:{fechaini:t.date_inicio,fechafin:t.date_fin},on:{closemodal:function(e){return t.closeModal()}}}):t._e()],1)],1)],1)},ga=[],ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro tipos de comunicación")])],1),a("v-card-title",[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openEdit(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n        Editando "+t._s(t.editItem.descripcion)+"\n      ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{type:"number",label:"Días respuesta",outlined:"",dense:"","hide-details":"","prepend-icon":"calendar_today"},model:{value:t.txtdias,callback:function(e){t.txtdias=e},expression:"txtdias"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.updateItem()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},xa=[];function _a(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function wa(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){_a(n,o,i,r,s,"next",t)}function s(t){_a(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ya={data:function(){return{search:"",txtdias:"",dialog:!1,loading:!1,headers:[{text:"Descripción",align:"center",value:"descripcion",sortable:!1},{text:"Días respuesta",align:"center",value:"dias_respuesta",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{updateItem:function(){var t=wa(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.updateTipoComunicacion(this.editItem.id,this.txtdias);case 4:e=t.sent,a=e.data,!0===a.respuesta?(this.$toasted.success("Registro actualizado correctamente.",{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error("Error al actualizar.",{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),openEdit:function(t){this.editItem=t,this.txtdias=this.editItem.dias_respuesta,this.dialog=!0},getData:function(){var t=wa(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getTipoComunicacion();case 4:e=t.sent,a=e.data,this.items=a.pqr_tipo_comunicacions,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{}},ka=ya,Ca=Object(y["a"])(ka,ba,xa,!1,null,"0c8bb254",null),ja=Ca.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro ejes temáticos")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[t._v("\n          Agregar registro\n          "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.openModal([])}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n              add\n            ")])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openModal(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),a("v-btn",{staticClass:"mx-1",attrs:{loading:t.loading_delete,small:"",color:"primary",icon:""},on:{click:function(e){return t.deleteRecord(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n       "+t._s(t.formTitle)+"\n      ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1,t.editItem=[]}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},Aa=[];function Ta(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Sa(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Ta(n,o,i,r,s,"next",t)}function s(t){Ta(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Oa={data:function(){return{search:"",txtnombre:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Id",align:"center",value:"id",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{deleteRecord:function(){var t=Sa(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading_delete=!0,t.next=4,ce.deleteEjeTematico(e.id);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading_delete=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),save:function(){var t=Sa(re.a.mark((function t(){var e;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,0!==this.editItem.length){t.next=8;break}return t.next=5,ce.saveEjeTematico(this.txtnombre);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,ce.updateEjeTematico(this.editItem.id,this.txtnombre);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),openModal:function(t){this.editItem=t,this.txtnombre=this.editItem.nombre,this.dialog=!0},getData:function(){var t=Sa(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getEjeTematico();case 4:e=t.sent,a=e.data,this.items=a.pqr_eje_tematicos,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{formTitle:function(){return 0===this.editItem.length?"Agregar registro":"Editando registro"}}},qa=Oa,Ea=Object(y["a"])(qa,Pa,Aa,!1,null,"20eff2ce",null),Ia=Ea.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro Instituciones")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[t._v("\n          Agregar registro\n          "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.openModal([])}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n              add\n            ")])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openModal(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),a("v-btn",{staticClass:"mx-1",attrs:{loading:t.loading_delete,small:"",color:"primary",icon:""},on:{click:function(e){return t.deleteRecord(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n       "+t._s(t.formTitle)+"\n      ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1,t.editItem=[]}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},Ua=[];function $a(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Ra(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){$a(n,o,i,r,s,"next",t)}function s(t){$a(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ma={data:function(){return{search:"",txtnombre:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Id",align:"center",value:"id",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{deleteRecord:function(){var t=Ra(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading_delete=!0,t.next=4,ce.deleteInstitucion(e.id);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading_delete=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),save:function(){var t=Ra(re.a.mark((function t(){var e;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,0!==this.editItem.length){t.next=8;break}return t.next=5,ce.saveInstitucion(this.txtnombre);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,ce.updateInstitucion(this.editItem.id,this.txtnombre);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),openModal:function(t){this.editItem=t,this.txtnombre=this.editItem.nombre,this.dialog=!0},getData:function(){var t=Ra(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getInstituciones();case 4:e=t.sent,a=e.data,this.items=a.pqr_instituciones,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{formTitle:function(){return 0===this.editItem.length?"Agregar registro":"Editando registro"}}},Na=Ma,Fa=Object(y["a"])(Na,Da,Ua,!1,null,"31b79cd1",null),Ba=Fa.exports;function La(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function za(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){La(n,o,i,r,s,"next",t)}function s(t){La(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ga={components:{charts:fe,tipocomunicacion:ja,ejetematico:Ia,institucion:Ba,pqr:ye},data:function(){return{showgrid:!1,dialog_charts:!1,filtro:"",valor:"",loading:!1,tab:null,tabs:["Dependencia","Eje temático","Agente"],date_inicio:this.moment().format("YYYY-MM-DD"),date_fin:this.moment().format("YYYY-MM-DD"),f_inicio:!1,f_fin:!1,items_dep:[],items_tipo:[],items_agen:[],busqueda_dep:"",busqueda_eje:"",busqueda_agen:"",headers_dependencia:[{text:"Dependencia",align:"center",value:"arenom",sortable:!1},{text:"Abierto",align:"center",value:"total_abiertas",sortable:!1},{text:"Asignado",align:"center",value:"total_asignadas",sortable:!1},{text:"Desarrollo",align:"center",value:"total_desarrollo",sortable:!1},{text:"Vencido",align:"center",value:"total_vencidas",sortable:!1},{text:"Cerrado",align:"center",value:"total_cerradas",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],headers_tipo:[{text:"Tipo de solicitud",align:"center",value:"descripcion",sortable:!1},{text:"Abierto",align:"center",value:"total_abiertas",sortable:!1},{text:"Asignado",align:"center",value:"total_asignadas",sortable:!1},{text:"Desarrollo",align:"center",value:"total_desarrollo",sortable:!1},{text:"Vencido",align:"center",value:"total_vencidas",sortable:!1},{text:"Cerrado",align:"center",value:"total_cerradas",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],headers_agente:[{text:"Agente",align:"center",value:"nombre",sortable:!1},{text:"Abierto",align:"center",value:"total_abiertas",sortable:!1},{text:"Asignado",align:"center",value:"total_asignadas",sortable:!1},{text:"Desarrollo",align:"center",value:"total_desarrollo",sortable:!1},{text:"Vencido",align:"center",value:"total_vencidas",sortable:!1},{text:"Cerrado",align:"center",value:"total_cerradas",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}]}},created:function(){},mounted:function(){this.filterData()},methods:{closeModal:function(){this.dialog_charts=!1},filterData:function(){var t=za(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getRecordsPanelControl(this.moment(this.date_inicio).format("YYYYMMDD"),this.moment(this.date_fin).format("YYYYMMDD"));case 4:e=t.sent,a=e.data,this.items_dep=a.dependencia,this.items_tipo=a.eje,this.items_agen=a.agente,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:return t.prev=14,this.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[0,11,14,17]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},Xa=Ga,Ha=Object(y["a"])(Xa,va,ga,!1,null,"11354c1c",null),Va=Ha.exports,Ya={components:{dashboard:Va},data:function(){return{}}},Ja=Ya,Za=Object(y["a"])(Ja,fa,ha,!1,null,"52afce26",null),Qa=Za.exports,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[3===t.$session.get("perfilpqr")||1===t.$session.get("perfilpqr")?a("usuarios"):a("div",[t._v("\n    No tiene permisos asignados para esta opción.\n  ")])],1)},Wa=[],to=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{staticClass:"mx-4",attrs:{lg6:""}},[a("v-card",[a("v-card-title",[t._v("\n        Usuarios\n        ")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-tabs",{attrs:{centered:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n                Directorio de usuarios\n              ")]),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n                Dependencias\n              ")]),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_directorio,items:t.items_dir,"items-per-page":5,search:t.searchusuarios},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.searchusuarios,callback:function(e){t.searchusuarios=e},expression:"searchusuarios"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.typegrid="usuarios",t.sendDatos=o,t.filtro="agente",t.valor=o.documento}}},[a("v-icon",[t._v("\n                            subdirectory_arrow_right\n                          ")])],1)]}}])})],1)],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_dependencia,items:t.items_dep,"items-per-page":5,search:t.searchdependencias},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.searchdependencias,callback:function(e){t.searchdependencias=e},expression:"searchdependencias"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.typegrid="datos",t.filtro="dependencia",t.valor=o.id_area}}},[a("v-icon",[t._v("\n                            subdirectory_arrow_right\n                          ")])],1)]}}])})],1)],1)],1)],1),a("v-card",{attrs:{elevation:"2"}},[a("v-btn",{staticClass:"ma-2",attrs:{small:"",rounded:"",color:"success"}},[a("v-icon",{staticClass:"ml-1",attrs:{left:""}},[t._v("\n                  list_alt\n                ")]),t._v("\n                Exportar\n              ")],1)],1)],1)],1)],1)],1)],1),t.showgrid?a("v-flex",{staticClass:"mx-4"},["datos"===t.typegrid?a("pqr",{attrs:{filtropqr:t.filtro,valor:t.valor,showbtn:!0},on:{closemodal:function(e){t.showgrid=!1}}}):"usuarios"===t.typegrid?a("eventos",{attrs:{datos:t.sendDatos},on:{closemodal:function(e){t.showgrid=!1}}}):t._e()],1):t._e()],1)],1)},eo=[],ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-card",[t.datos?a("v-card-title",[t._v("\n        Eventos\n          "),a("v-spacer"),a("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1)],1):a("v-card-title",[t._v("\n        Eventos\n      ")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("div",{staticClass:"font-weight-bold",staticStyle:{"font-size":"1.25rem"}},[t._v("\n                    "+t._s(t.txtnombre)+"\n                    "),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",rounded:"",color:"primary"}},[a("v-icon",{staticClass:"ml-1",attrs:{left:""}},[t._v("\n                        admin_panel_settings\n                      ")]),t._v("\n                      Administrar cuenta\n                    ")],1)],1)])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4",align:"center",justify:"center"}},[a("v-avatar",{attrs:{color:"primary",size:"120"}},[a("img",{attrs:{src:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortWaved&accessoriesType=Blank&hairColor=Black&facialHairType=Blank&clotheType=BlazerSweater&eyeType=Default&eyebrowType=Default&mouthType=Smile&skinColor=Light",alt:"John"}})])],1),a("v-col",{attrs:{cols:"8"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Nombre",readonly:""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Estado",readonly:""},model:{value:t.txtestado,callback:function(e){t.txtestado=e},expression:"txtestado"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Correo",readonly:""},model:{value:t.txtemail,callback:function(e){t.txtemail=e},expression:"txtemail"}})],1),a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Creado",value:"Si",readonly:""}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Dependencia",readonly:""},model:{value:t.txtdependencia,callback:function(e){t.txtdependencia=e},expression:"txtdependencia"}})],1),a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Última modificación",value:"",readonly:""}})],1)],1)],1)],1),a("v-row",[a("v-col",[""!=t.valor?a("pqr",{attrs:{filtropqr:t.filtro,valor:t.valor}}):t._e()],1)],1)],1)],1)],1)],1)},oo=[];function io(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function no(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){io(n,o,i,r,s,"next",t)}function s(t){io(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ro={components:{pqr:ye},props:["datos"],data:function(){return{txtnombre:"",txtestado:"",txtemail:"",txtdependencia:"",items:[],filtro:"agente",valor:""}},created:function(){},mounted:function(){this.datos?this.getData(this.datos.codigo):this.getData(this.$session.get("codigopersonal"))},methods:{closeModal:function(){this.$emit("closemodal")},getData:function(){var t=no(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getInfoUser(e);case 3:a=t.sent,o=a.data,console.log(o),console.log(o[0].area),this.txtnombre=o[0].nombre,this.txtestado=o[0].estado,this.txtemail=o[0].email,this.txtdependencia=o[0].area,this.valor=o[0].perside,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},so=ro,co=Object(y["a"])(so,ao,oo,!1,null,"04742bf4",null),lo=co.exports;function uo(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function po(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){uo(n,o,i,r,s,"next",t)}function s(t){uo(n,o,i,r,s,"throw",t)}r(void 0)}))}}var mo={components:{pqr:ye,eventos:lo},data:function(){return{filtro:"",valor:"",searchusuarios:"",searchdependencias:"",sendDatos:[],showgrid:!1,typegrid:"",loading:!1,tab:null,items_dir:[],items_dep:[],headers_directorio:[{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Estado",align:"center",value:"estado",sortable:!1},{text:"Creado",align:"center",value:"area",sortable:!1},{text:"Última actividad",align:"center",value:"soporte_fisico",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],headers_dependencia:[{text:"Dependencia",align:"center",value:"arenom",sortable:!1},{text:"Estado",align:"center",value:"estado",sortable:!1},{text:"Creado",align:"center",value:"area",sortable:!1},{text:"Última actividad",align:"center",value:"soporte_fisico",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}]}},created:function(){},mounted:function(){this.getData()},methods:{getData:function(){var t=po(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getRecordsPanelUsuarios(this.$session.get("codigopersonal"));case 4:e=t.sent,a=e.data,console.log("van datos"),console.log(a.agente),console.log(a.dependencia),this.items_dir=a.agente,this.items_dep=a.dependencia,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:return t.prev=16,this.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[0,13,16,19]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},fo=mo,ho=Object(y["a"])(fo,to,eo,!1,null,"6953a8c9",null),vo=ho.exports,go={components:{usuarios:vo},data:function(){return{}}},bo=go,xo=Object(y["a"])(bo,Ka,Wa,!1,null,"07dac397",null),_o=xo.exports,wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("tipocomunicacion")],1)],1)],1)},yo=[],ko={components:{tipocomunicacion:ja},data:function(){return{}}},Co=ko,jo=Object(y["a"])(Co,wo,yo,!1,null,"47b8b9e0",null),Po=jo.exports,Ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("ejetematico")],1)],1)],1)},To=[],So={components:{ejetematico:Ia},data:function(){return{}}},Oo=So,qo=Object(y["a"])(Oo,Ao,To,!1,null,"5cc2a4ea",null),Eo=qo.exports,Io=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("institucion")],1)],1)],1)},Do=[],Uo={components:{institucion:Ba},data:function(){return{}}},$o=Uo,Ro=Object(y["a"])($o,Io,Do,!1,null,"5a1a2f66",null),Mo=Ro.exports,No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("perfil")],1)],1)],1)},Fo=[],Bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro Perfiles")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{items:t.areas,label:"Áreas","item-value":"arecod","item-text":"arenom"},on:{change:function(e){return t.loadUsers()}},model:{value:t.txtareas,callback:function(e){t.txtareas=e},expression:"txtareas"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading},scopedSlots:t._u([{key:"item.responsable",fn:function(e){var o=e.item;return[a("v-layout",{staticClass:"align-center justify-center"},[a("v-checkbox",{attrs:{color:"primary"},on:{change:function(e){return t.validateResponsable(o)}},model:{value:o.responsable,callback:function(e){t.$set(o,"responsable",e)},expression:"item.responsable"}})],1)]}},{key:"item.tipo",fn:function(e){var o=e.item;return[a("v-autocomplete",{attrs:{items:t.perfiles,"item-value":"value","item-text":"text"},on:{change:function(e){return t.changePerfil(o)}},model:{value:o.tipo,callback:function(e){t.$set(o,"tipo",e)},expression:"item.tipo"}})]}}])})],1)],1)],1)},Lo=[];function zo(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Go(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){zo(n,o,i,r,s,"next",t)}function s(t){zo(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Xo={data:function(){return{txtareas:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Documento",align:"center",value:"documento",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Área",align:"center",value:"area",sortable:!1},{text:"Responsable",align:"center",value:"responsable",sortable:!1},{text:"Tipo",align:"center",value:"tipo",sortable:!1}],areas:[],items:[],perfiles:[{text:"Por defecto",value:0},{text:"Encargados",value:1},{text:"Ventanilla",value:2},{text:"Admin",value:3}]}},mounted:function(){this.getData()},methods:{changePerfil:function(){var t=Go(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.updatePerfilPqrUser(e.iduser,e.tipo);case 3:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.loadUsers()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),validateResponsable:function(){var t=Go(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.validateResponsable(e.documento,e.arecod);case 3:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.loadUsers()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),loadUsers:function(){var t=Go(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getPersonalArea(this.txtareas);case 4:e=t.sent,a=e.data,this.items=a,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),getData:function(){var t=Go(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getDependencias();case 4:e=t.sent,a=e.data,this.areas=a.areas,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{}},Ho=Xo,Vo=Object(y["a"])(Ho,Bo,Lo,!1,null,"119aab92",null),Yo=Vo.exports,Jo={components:{perfil:Yo},data:function(){return{}}},Zo=Jo,Qo=Object(y["a"])(Zo,No,Fo,!1,null,"9a1b2324",null),Ko=Qo.exports,Wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("respuestaautomatica")],1)],1)],1)},ti=[],ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro Respuestas automáticas")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[t._v("\n          Agregar registro\n          "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.openModal([])}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n              add\n            ")])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openModal(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),a("v-btn",{staticClass:"mx-1",attrs:{loading:t.loading_delete,small:"",color:"primary",icon:""},on:{click:function(e){return t.deleteRecord(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n       "+t._s(t.formTitle)+"\n      ")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{outlined:"",label:"Cuerpo Respuesta",rows:"7"},model:{value:t.respuesta,callback:function(e){t.respuesta=e},expression:"respuesta"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1,t.editItem=[]}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},ai=[];function oi(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function ii(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){oi(n,o,i,r,s,"next",t)}function s(t){oi(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ni={data:function(){return{search:"",txtnombre:"",respuesta:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Id",align:"center",value:"id",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{deleteRecord:function(){var t=ii(re.a.mark((function t(e){var a,o;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading_delete=!0,t.next=4,ce.deleteRespuestaAutomatica(e.id);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading_delete=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),save:function(){var t=ii(re.a.mark((function t(){var e;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,0!==this.editItem.length){t.next=8;break}return t.next=5,ce.saveRespuestaAutomatica(this.txtnombre,this.respuesta);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,ce.updateRespuestaAutomatica(this.editItem.id,this.txtnombre,this.respuesta);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),openModal:function(t){this.editItem=t,this.txtnombre=this.editItem.nombre,this.respuesta=this.editItem.cuerpo,this.dialog=!0},getData:function(){var t=ii(re.a.mark((function t(){var e,a;return re.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,ce.getMaestroRespuestas();case 4:e=t.sent,a=e.data,this.items=a.pqr_respuesta_automaticas,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{formTitle:function(){return 0===this.editItem.length?"Agregar registro":"Editando registro"}}},ri=ni,si=Object(y["a"])(ri,ei,ai,!1,null,"468f9c98",null),ci=si.exports,li={components:{respuestaautomatica:ci},data:function(){return{}}},di=li,ui=Object(y["a"])(di,Wo,ti,!1,null,"78cf5896",null),pi=ui.exports;o["default"].use(Z["a"]);var mi=[{path:"/myapp",name:"home",component:$},{path:"/Areas",component:st,name:"Areas"},{path:"/Cargos",component:ht,name:"Cargos"},{path:"/Personal",component:Ot,name:"Personal"},{path:"/Perfiles",component:Nt,name:"Perfiles"},{path:"/Usuarios",component:Yt,name:"Usuarios"},{path:"/Bitacora",component:te,name:"Bitacora"},{path:"/",name:"Login",component:J},{path:"/pqrs",component:Pe,name:"vpqr"},{path:"/pqrs/:id",component:ma,name:"detailpqr"},{path:"/pqrs_dashboard",component:Qa,name:"vdashboard"},{path:"/pqrs_usuarios",component:_o,name:"vusuarios"},{path:"/pqrs_eventos",component:lo,name:"eventos"},{path:"/pqr_tipo_comunicacion",component:Po,name:"vtipocomunicacion"},{path:"/pqr_eje_tematico",component:Eo,name:"vejetematico"},{path:"/pqr_instituciones",component:Mo,name:"vinstitucion"},{path:"/pqr_perfiles",component:Ko,name:"vperfil"},{path:"/pqr_respuestas",component:pi,name:"vrespuestaautomatica"},{path:"*",redirect:"/myapp"}],fi=new Z["a"]({mode:"history",routes:mi});fi.beforeEach((function(t,e,a){var i=["/","/register"],n=!i.includes(t.path),r=o["default"].prototype,s=r.$session.exists();if(n&&!s)return a("/");a()}));var hi=fi,vi=a("2f62");o["default"].use(vi["a"]);var gi=new vi["a"].Store({state:{avatar:"ImgH_blanco.png",imgnotificacion:"notifications_none",proyobjetivos:"0",arrPlanAdqNecActividades:[],arrPlanAdqNecUnspsc:[],carreras:[],solproc:{},tipoOfertaEconomica:["Media aritmética","Media aritmética alta","Media geométrica con presupuesto oficial","Menor valor"],adjPersonales:[{docSolicitado:"Visto bueno de la Directora General",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Cédula de ciudadanía",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Hoja de vida actualizada",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Soportes Académicos / Diplomas - Cursosl",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Soportes Laborales",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Tarjeta Profesional",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Libreta militar",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"RUT actualizado",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación Bancaria actualizada",excluido:"pasante,convenio",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Examen de Medicina Ocupacional",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado de Categoría Tributaria",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Disciplinarios actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Fiscales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Judiciales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes del Registro Nacional de Medidas Correctivas",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1}],adjBienes:[{docSolicitado:"Cédula de ciudadanía",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado de matrícula mercantil",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Propuesta económica y técnica",excluido:"convenio",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación de contrapartida",excluido:"contrato",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación de experiencia",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"RUT actualizado",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación Bancaria actualizada",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado expedido por el contador o revisor fiscal, en el que se indique que se ha cumplido con el pago de Parafiscales de los últimos seis (6) meses",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado de Categoría Tributaria",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Disciplinarios actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Fiscales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Judiciales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes del Registro Nacional de Medidas Correctivas",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1}],adjJuridica:[{docSolicitado:"Certificado de Existencia y Representación",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Cédula de ciudadanía del Representante Legal",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Autorización Representante Legal en caso de no tener la facultad para firmar (Cuando aplica)",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Propuesta económica y técnica",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación de experiencia (Cuando aplica)",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"RUT actualizado",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación Bancaria actualizada",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado expedido por el contador o revisor fiscal, en el que se indique que se ha cumplido con el pago de Parafiscales de los últimos seis (6) meses",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Disciplinarios actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Fiscales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Judiciales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes del Registro Nacional de Medidas Correctivas del representante legal",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1}],tipoLista:{text:"PERSONA NATURAL – PRESTACIÓN DE SERVICIOS / CONSULTORÍAS INDIVIDUALES",valor:1},causales:[{text:"a) Contratos o convenios interadministrativos con entidades públicas, siempre que las obligaciones derivadas del mismo tengan relación directa con el objeto de la entidad ejecutora señalado en la ley o en sus reglamentos; o convenios o acuerdos para ejecución de proyectos con corporaciones y fundaciones sin ánimo de lucro, organizaciones no gubernamentales nacionales e internacionales, universidades, centros de investigación científica u otras entidades para la ejecución de proyectos conjuntos",valor:1},{text:"b) Contratos para la prestación de servicios profesionales o de apoyo a la gestión, o para la ejecución de trabajos artísticos que sólo puedan encomendarse a determinadas personas naturales",valor:2},{text:"c) Contratos para el desarrollo de actividades científicas y tecnológicas, siempre y cuando la Dirección General del Instituto así lo autorice",valor:3},{text:"d) Contratos de prestación de servicios cuando las tareas son una continuación de un trabajo anterior realizado por el contratista para la ejecución del proyecto y/o con el Instituto, después de haber sido seleccionado de manera competitiva",valor:4},{text:"e) Cuando no exista pluralidad de oferentes en el mercado por existir solamente una persona que puede proveer el bien o el servicio por ser titular de los derechos de propiedad industrial o de los derechos de autor, o por ser proveedor exclusivo en el territorio nacional o en el municipio donde se ejecutará el contrato atendiendo a las circunstancias de accesibilidad a la zona, o se requiere contratar a un proveedor particular para lograr el desempeño requerido o para preservar la garantía funcional de un equipo, un elemento de planta o una instalación;",valor:5},{text:"f) La contratación cuyo proceso de Convocatoria Pública o Invitación Directa haya sido declarado desierto, siempre y cuando el contratista cumpla con todos los requisitos habilitantes exigidos en la convocatoria o invitación directa;",valor:6},{text:"g) La contratación cuya cuantía no exceda los cien (100) Salarios Mínimos Legales Mensuales Vigentes, siempre y cuando se haya realizado un estudio de mercado previo y se contrate al proveedor que haya ofrecido el menor valor",valor:7},{text:"h) Los contratos cuyo proceso de selección, conforme a lo establecido en los convenios o contratos suscritos, no se lleve a cabo por la Oficina Jurídica del Instituto, sino que se realice por la autoridad competente según lo definido en el mismo convenio o contrato",valor:8},{text:"i) Contratistas que por necesidades del proyecto son seleccionados en Comités Veredales o en reuniones de autoridades competentes de la región, para lo cual se deberá seguir con el procedimiento establecido para ello y que se detalla más adelante",valor:9},{text:"j) El arrendamiento o adquisición de inmuebles",valor:10},{text:"k) Comodatos de bienes muebles o inmuebles",valor:11}],tiposContratacionDirecta:["dir_personal","dir_bien","dir_juridica"]},getters:{getAvatar:function(t){return t.avatar},getNotificacion:function(t){return t.imgnotificacion},getProyObjetivo:function(t){return t.proyobjetivos},getArrPlanAdqNecAct:function(t){return t.arrPlanAdqNecActividades},getArrPlanAdqNecUnspsc:function(t){return t.arrPlanAdqNecUnspsc}},mutations:{setSolProc:function(t,e){t.solproc=e},removeAdjCausales:function(t,e){"personales"===e?t.solproc.adjuntos.map((function(e){var a=t.adjPersonales.find((function(t){return t.docSolicitado===e.docSolicitado}));a||t.solproc.adjuntos.splice(t.solproc.adjuntos.indexOf(e),1)})):"bienes"===e?t.solproc.adjuntos.map((function(e){var a=t.adjBienes.find((function(t){return t.docSolicitado===e.docSolicitado}));a||t.solproc.adjuntos.splice(t.solproc.adjuntos.indexOf(e),1)})):"juridica"===e&&t.solproc.adjuntos.map((function(e){var a=t.adjJuridica.find((function(t){return t.docSolicitado===e.docSolicitado}));a||t.solproc.adjuntos.splice(t.solproc.adjuntos.indexOf(e),1)}))},updatePropAdjuntos:function(t,e){var a=t.solproc.proponentes.findIndex((function(t){return t.nombre===e.proponente.nombre}));o["default"].set(t.solproc.proponentes[a].adjuntos,e.index,e.adjunto)},updateAdjuntos:function(t,e){o["default"].set(t.solproc.adjuntos,e.index,e.adjunto)},actAdjuntos:function(t,e){t.solproc.adjuntos=t.solproc.adjuntos.filter((function(t){return"bienserv"!==t.tipo}));var a={tipo:"bienserv",nombre:e.file_name,path:e.file_path};a.path&&t.solproc.adjuntos.push(a)},setAvatar:function(t,e){"M"==e?t.avatar="ImgH_blanco.png":"F"==e&&(t.avatar="ImgM_blanco.png")},setNotificacion:function(t,e){t.imgnotificacion=e>0?"notifications_active":"notifications_none"},setProyObjetivo:function(t,e){t.proyobjetivos=e},setArrPlanAdqNecAct:function(t,e){t.arrPlanAdqNecActividades=e},AddArrPlanAdqNecAct:function(t,e){console.log(e),t.arrPlanAdqNecActividades.push(e)},ModArrPlanAdqNecAct:function(t,e){t.arrPlanAdqNecActividades.forEach((function(a,i){a.necesidad===e.necesidad&&a.secuenciaactividad===e.secuenciaactividad&&o["default"].set(t.arrPlanAdqNecActividades,i,e)}))},DelArrPlanAdqNecAct:function(t,e){t.arrPlanAdqNecActividades.splice(e,1)},setArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc=e},AddArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc.push(e)},ModArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc.forEach((function(a,i){a.necesidad===e.necesidad&&a.unspsc===e.unspsc&&o["default"].set(t.arrPlanAdqNecUnspsc,i,e)}))},DelArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc.splice(e,1)}},actions:{}}),bi=a("9483");Object(bi["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var xi=a("0628"),_i=a.n(xi),wi=a("1dce"),yi=a.n(wi),ki=a("a65d"),Ci=a.n(ki),ji=a("7345"),Pi=a.n(ji),Ai=a("716b"),Ti=a.n(Ai),Si=a("1bdd"),Oi=a("c1df"),qi=a.n(Oi);a("4633");o["default"].use(a("84b5"));var Ei=a("1321"),Ii=a.n(Ei),Di=a("a4a1"),Ui=a.n(Di),$i=(a("f6b9"),a("d1e7"),a("d5e8"),a("f579")),Ri=a.n($i),Mi=o["default"].prototype;Mi.moment=qi.a,o["default"].use(yi.a),o["default"].use(Ri.a),o["default"].use(Ci.a),o["default"].use(Pi.a),o["default"].use(Ti.a),o["default"].use(Ii.a),o["default"].use(a("84b5")),o["default"].component("downloadExcel",Si["a"]),o["default"].component("barcode",Ri.a),o["default"].component("apexchart",Ii.a),o["default"].use(Ui.a);var Ni={persist:!0};o["default"].use(_i.a,Ni),o["default"].config.productionTip=!1,new o["default"]({router:hi,store:gi,vuetify:c,render:function(t){return t(C)}}).$mount("#app")},"64a9":function(t,e,a){},"7b20":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getDataXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/Notificaciones",dataType:"json",data:{usuario:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},adicionar:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/NotificacionesAdd",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ocultarNotificaciones:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/NotificacionesOcultar",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"7ea0":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getPermisos:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/getPermisos",dataType:"json",data:{usuarioid:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getOpcion:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/getOpcion",dataType:"json",data:{usuarioid:t,codigo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getPermisosActuales:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PermisosActuales",dataType:"json",data:{perfilid:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getPermisosFal:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/getPermisosFal",dataType:"json",data:{perfilid:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},b1c1:function(t,e,a){"use strict";var o=a("fbf3"),i=a.n(o);i.a},b991:function(t,e,a){"use strict";var o=a("06da"),i=a.n(o);i.a},d89f:function(t,e,a){"use strict";var o={apiUrl:"https://piedecuesta-pqrsdf.azurewebsites.net/public/api/"};e["a"]=o},dfda:function(t,e,a){},fbf3:function(t,e,a){}});
//# sourceMappingURL=app.1508372d.js.map